(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){},166:function(e,t,a){a(167),e.exports=a(347)},167:function(e,t,a){"use strict";"undefined"===typeof Promise&&(a(168).enable(),window.Promise=a(170)),a(67),Object.assign=a(44)},172:function(e,t,a){},339:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);a(84),a(171),a(172);var n=a(0),r=a.n(n),o=a(31),l=a.n(o),s=a(19),c=a(382),i=a(21),u=a(151),m=a(152),d=a(383),p=a(153),h=a(25),f=a(49),E=[{noteitems:[],loading:!0}];var b={LOGIN:"LOGIN",LOGOUT:"LOGOUT",CHANGE_PASSWORD:"CHANGE_PASSWORD",USER_PROFILE:"USER_PROFILE"};var g=Object(i.combineReducers)({form:d.a,notifications:p.reducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.LOGIN:return Object(h.a)({},e,{authenticated:!0,token:t.payload});case b.LOGOUT:return Object(h.a)({},e,{authenticated:!1,token:null});case b.USER_PROFILE:return Object(h.a)({},e,{user:t.payload})}return e},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=e.map(function(e){return e.noteitems}).reduce(function(e,t){return[].concat(Object(f.a)(e),Object(f.a)(t))},[]).slice();switch(t.type){case"FETCH_NOTES":return a=a.filter(function(e,t,a){return a.findIndex(function(t){return t.created_at===e.created_at&&t.id===e.id})===t}),[Object(h.a)({},e[e.length-1],{noteitems:a,loading:!1})];case"SEARCH_NOTES":case"ORDER_NOTES":return a=t.notes,[Object(h.a)({},e,t.notes,{loading:!1})];case"ADD_NOTE":return a.unshift(t.note),[Object(h.a)({},e[e.length-1],{noteitems:a,loading:!1})];case"UPDATE_NOTE":var n=e[t.index].noteitems[t.id].id,r=a.findIndex(function(e){return e.id===n}),o=a[r];return o.text=t.note.text,o.phone=t.note.phone,o.status=t.note.status,o.is_corporate=t.note.is_corporate,o.is_payed=t.note.is_payed,o.email=t.note.email,o.linkedin_profile=t.note.linkedin_profile,o.website=t.note.website,o.correspondence=t.note.correspondence,a.splice(r,1,o),[Object(h.a)({},e[e.length-1],{noteitems:a,loading:!1})];case"DELETE_NOTE":var l=e[t.id].noteitems[t.index].id,s=a.findIndex(function(e){return e.id===l});return a.splice(s,1),[Object(h.a)({},e[e.length-1],{noteitems:a,loading:!1})]}return e},detail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DETAIL_NOTE":case"UPDATE_DETAIL_NOTE":case"ADD_DETAIL_NOTE":return Object(h.a)({},e,t.detail,{loading:!1});case"MESSAGE_NOT_FOUND":return Object(h.a)({},e,{hasError:!0,errors:{page:"Page not found"},loading:!1})}return e},lead:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{leads:"",loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PAYMENTS_LEAD":var a=Object(f.a)(t.leads);return a.forEach(function(e){var t=e.converted+e.processed+e.rejected,a=e.payed,n=0,r=0;for(var o in e.prices){var l=e.prices[o];t>=10&&(t>=o?n+=10*l:Math.ceil(t/10)===o/10&&(n+=(t+10-o)*l)),a&&t>=10&&(a>=o?r+=10*l:Math.ceil(a/10)===o/10&&(r+=(a+10-o)*l))}e.price=n-r}),Object(h.a)({},e,{leads:Object(f.a)(a),loading:!1});case"LEAD_NOT_FOUND":return Object(h.a)({},e,{loading:!1,error:"Not found"})}return e}});var v=function(e){var t=Object(m.createLogger)(),a=Object(i.applyMiddleware)(u.a,t);return Object(i.compose)(a)(i.createStore)(g,e)}(),k=a(42),y=a.n(k),O=a(164),N=a(154),C="http://localhost:8000/",_={LOGIN:"".concat(C,"rest-auth/login/"),SIGNUP:"".concat(C,"rest-auth/registration/"),CHANGE_PASSWORD:"".concat(C,"rest-auth/password/change/"),RESET_PASSWORD:"".concat(C,"rest-auth/password/reset/"),RESET_PASSWORD_CONFIRM:"".concat(C,"rest-auth/password/reset/confirm/"),USER_ACTIVATION:"".concat(C,"rest-auth/registration/verify-email/"),USER_PROFILE:"".concat(C,"rest-auth/user/")};function w(e){return e.auth.token}var j=N.actions.notifSend;function S(e){return{type:b.LOGIN,payload:e}}function x(){return function(e){var t=w(v.getState());t&&y.a.get(_.USER_PROFILE,{headers:{authorization:"Token "+t}}).then(function(t){var a;e((a=t.data,{type:b.USER_PROFILE,payload:a}))}).catch(function(e){console.log(e)})}}function T(e){return Object.keys(e).reduce(function(t,a){return"non_field_errors"===a?t._error.push(e[a]):"token"===a?t._error.push("The link is not valid any more."):t[a]=e[a],t},{_error:[]})}var P=a(7),D=a(8),I=a(10),R=a(9),A=a(11),L=a(348),U=a(349),F=a(350),M=a(351),z=a(352),q=a(353),B=a(354),H=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).toggleNavbar=function(){a.setState({collapsed:!a.state.collapsed})},a.state={collapsed:!0},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserProfile()}},{key:"renderLinks",value:function(){if(this.props.authenticated){var e=this.props.user;return r.a.createElement(L.a,{className:"mr-auto",navbar:!0},r.a.createElement(U.a,{key:"investors"},r.a.createElement(F.a,{className:"nav-link",onClick:this.forceUpdate,href:"/investors"},"Investors")),r.a.createElement(U.a,{key:"payments"},r.a.createElement(F.a,{className:"nav-link",onClick:this.forceUpdate,href:"/payments"},"Payments")),r.a.createElement(U.a,{key:"profile"},r.a.createElement(F.a,{className:"nav-link",href:"/profile"},function(e){if(e)return r.a.createElement("div",null,e.username)}(e))),r.a.createElement(U.a,{key:"logout"},r.a.createElement(F.a,{className:"nav-link",href:"/logout"},"Logout")))}return r.a.createElement(L.a,{className:"ml-auto",navbar:!0},r.a.createElement(U.a,{key:"login"},r.a.createElement(F.a,{className:"nav-link",href:"/login"},"Login")),",",r.a.createElement(U.a,{key:"signup"},r.a.createElement(F.a,{className:"nav-link",href:"/signup"},"Sign Up")))}},{key:"render",value:function(){return r.a.createElement(M.a,{color:"info",dark:!0,expand:"md"},r.a.createElement(z.a,{href:"/"},"Lead Platform"),r.a.createElement(q.a,{onClick:this.toggleNavbar}),r.a.createElement(B.a,{isOpen:!this.state.collapsed,navbar:!0},this.renderLinks()))}}]),t}(n.Component);var W=Object(s.connect)(function(e){return{authenticated:e.auth.authenticated,user:e.auth.user}},function(e){return{getUserProfile:function(){return e(x())}}})(H),Y=a(386),G=a(378),V=function(e){var t=function(t){function a(){return Object(P.a)(this,a),Object(I.a)(this,Object(R.a)(a).apply(this,arguments))}return Object(A.a)(a,t),Object(D.a)(a,[{key:"componentWillMount",value:function(){this.checkAuthentication(this.props)}},{key:"componentWillUpdate",value:function(e){this.checkAuthentication(e)}},{key:"checkAuthentication",value:function(e){e.authenticated||this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(n.Component);return Object(s.connect)(function(e){var t=!1;return e.auth.user&&(e.auth.user.is_staff||e.auth.user.is_superuser)&&(t=!0),{authenticated:e.auth.authenticated,is_staff:t}})(t)},Z=a(15),$=(a(138),a(355)),J=a(356),X=a(357),K=a(358),Q=a(359),ee=a(360),te=a(361),ae=a(362),ne=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).titleWasClicked=a.titleWasClicked.bind(Object(Z.a)(Object(Z.a)(a))),a.toggleContent=a.toggleContent.bind(Object(Z.a)(Object(Z.a)(a))),a.removeContent=a.removeContent.bind(Object(Z.a)(Object(Z.a)(a))),a.state={showContent:!1,postItem:null},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"titleWasClicked",value:function(e){e.preventDefault();var t=this.props.dataCallback,a=this.props.post;a.title="This is new Title",this.setState({postItem:a}),void 0!==t&&t(a)}},{key:"toggleContent",value:function(e){e.preventDefault(),this.setState({showContent:!this.state.showContent})}},{key:"removeContent",value:function(e){this.props.didHandleRemove&&this.props.didHandleRemove(this.props.post)}},{key:"componentDidMount",value:function(){var e=this.props.post;this.setState({postItem:e})}},{key:"setPostStateOnProps",value:function(){var e=this.props.post;this.setState({postItem:e})}},{key:"componentDidUpdate",value:function(e,t,a){this.props!==e&&this.setPostStateOnProps()}},{key:"render",value:function(){var e=this.state.postItem,t=this.state.showContent;return r.a.createElement("div",null,null!==e?r.a.createElement($.a,{className:"ContentItem"},r.a.createElement(J.a,{xs:"12",md:"6"},r.a.createElement(X.a,null,r.a.createElement(K.a,{top:!0,width:"100%",src:e.image}),r.a.createElement(Q.a,null,r.a.createElement(ee.a,{onClick:this.titleWasClicked},e.title),!0===t?r.a.createElement(te.a,null,e.description):"",r.a.createElement("button",{className:"btn btn-info",onClick:this.toggleContent},"Toggle Content Display"),r.a.createElement("button",{className:"btn btn-success",onClick:this.removeContent},"Remove content"),r.a.createElement(ae.a,{className:"btn btn-danger",to:"/posts/"+e.slug},e.title))))):"")}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).state={items:[],isOldestFirst:!0,isLoading:!0},a.handleDataCallback=a.handleDataCallback.bind(Object(Z.a)(Object(Z.a)(a))),a.handlePostRemove=a.handlePostRemove.bind(Object(Z.a)(Object(Z.a)(a))),a.toggleListReverse=a.toggleListReverse.bind(Object(Z.a)(Object(Z.a)(a))),a.toggleSortId=a.toggleSortId.bind(Object(Z.a)(Object(Z.a)(a))),a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"sortById",value:function(){var e=this.state.items,t=e;t=this.state.isOldestFirst?e.sort(function(e,t){return e.id<t.id}):e.sort(function(e,t){return e.id>t.id}),this.setState({items:t,isOldestFirst:!this.state.isOldestFirst})}},{key:"toggleSortId",value:function(e){this.sortById()}},{key:"toggleListReverse",value:function(e){var t=this.state.items.reverse();this.setState({items:t})}},{key:"updateBackend",value:function(e){console.log(e),this.setState({postItem:e})}},{key:"handleDataCallback",value:function(e){var t=this.state.items;t.push(e),this.updateBackend(t)}},{key:"handlePostRemove",value:function(e){var t=this.state.items;t.pop(e),this.updateBackend(t)}},{key:"componentDidMount",value:function(){this.getItems()}},{key:"getItems",value:function(){var e=this;fetch("http://127.0.0.1:8000/api/item/").then(function(e){return e.json()}).then(function(t){return e.setState({items:t,isLoading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.items;return t.isLoading?r.a.createElement("p",null,"Loading ..."):r.a.createElement("div",null,r.a.createElement("h1",null,"HI!"),r.a.createElement("button",{className:"btn btn-secondary mx-auto d-block",onClick:this.toggleListReverse},"Reverse"),r.a.createElement("button",{className:"btn btn-info mx-auto d-block",onClick:this.toggleSortId},"SortId"),r.a.createElement("div",null,a.map(function(t,a){return r.a.createElement(ne,{post:t,key:"post-list-key ".concat(a),dataCallback:e.handleDataCallback,didHandleRemove:e.handlePostRemove})})))}}]),t}(n.Component),oe=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(ae.a,{className:"some-link",to:"/posts/dynamic/"},"Dynamic Page"),r.a.createElement(re,null))}}]),t}(n.Component),le=a(380),se=a(379),ce=a(27),ie=function(e){var t=e.input,a=e.label,n=e.type,o=e.meta,l=o.touched,s=o.error;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control"},t,{type:n}))),l&&s&&r.a.createElement("div",{className:"alert alert-danger p-1"},r.a.createElement("small",null,s)))},ue=function(e){var t=e.input,a=e.label,n=e.type,o=e.meta,l=o.touched,s=o.error;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({className:"form-control"},t,{type:n}))),l&&s&&r.a.createElement("div",{className:"alert alert-danger p-1"},r.a.createElement("small",null,s)))},me=function(e){if(e)return r.a.createElement("div",{className:"alert alert-danger"},e)},de=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Please Log In"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"email",label:"Email",component:ie,type:"text",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"password",label:"Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},me(a),r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Login")),r.a.createElement("p",null,"Not registered? ",r.a.createElement(ae.a,{to:"/signup"},"Signup Here!")),r.a.createElement(ae.a,{to:"/reset_password"},"forgot password?")))}}]),t}(n.Component),pe=Object(se.a)({form:"login",onSubmit:function(e,t,a){var n=_.LOGIN;return y.a.post(n,e).then(function(e){var n=e.data.key;t(S(n)),localStorage.setItem("token",n),a.history.push("/"),t(x())}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})}})(de),he=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentWillMount",value:function(){this.props.logoutUser()}},{key:"render",value:function(){return r.a.createElement("h2",null,"Sorry to see you go...")}}]),t}(n.Component),fe=Object(s.connect)(null,{logoutUser:function(){return localStorage.removeItem("token"),localStorage.removeItem("csrftoken"),{type:b.LOGOUT}}})(he),Ee=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Sign Up"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"email",label:"Email",component:ie,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"username",label:"Username",component:ie,type:"text",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"password1",label:"Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"password2",label:"Confirm Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),me(a),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Sign Up"))))}}]),t}(n.Component),be=Object(se.a)({form:"signup",validate:function(e){var t={};return e.password1!==e.password2&&(t.password2="Password does not match."),t},onSubmit:function(e,t,a){var n=_.SIGNUP;return y.a.post(n,e).then(function(e){a.history.push("/signup_done")}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})}})(Ee),ge=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("h3",{className:"mx-5"},"Thanks for your registration, please follow the link sent to your provided email to activate your account.")}}]),t}(n.Component),ve=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Please click the button below to activate your account"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},me(a),r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Activate"))))}}]),t}(n.Component),ke=Object(se.a)({form:"user_account_activation",onSubmit:function(e,t,a){var n=a.match.params.key,r=_.USER_ACTIVATION,o=Object.assign(e,{key:n});return y.a.post(r,o).then(function(e){t(j({message:"Your account has been activated successfully, please log in",kind:"info",dismissAfter:5e3})),a.history.push("/login")}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})}})(ve),ye=a(385),Oe=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserProfile()}},{key:"renderUser",value:function(){var e=this.props.user;return e?r.a.createElement("div",{className:"mx-2"},r.a.createElement("h4",null,"username: ",e.username),r.a.createElement("h4",null,"First Name: ",e.first_name),r.a.createElement("h4",null,"Last Name: ",e.last_name),r.a.createElement("h4",null,"email: ",e.email),r.a.createElement("h4",null,"Website: ",e.website),r.a.createElement("hr",null),r.a.createElement("h4",null,"About Myself:"),r.a.createElement("p",null,e.about)):null}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderUser()," ",r.a.createElement("hr",null),r.a.createElement(ae.a,{className:"btn btn-primary mr-2",to:"/profile_edit"},"Update Profile"),r.a.createElement(ae.a,{className:"btn btn-primary",to:"/change_password"},"Change Password"))}}]),t}(n.Component);var Ne=Object(ye.a)(Object(s.connect)(function(e){return{user:e.auth.user}},{getUserProfile:x})(Oe)),Ce=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Edit Profile"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"username",label:"Username",component:ie,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"first_name",label:"First Name",component:ie,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"last_name",label:"Last Name",component:ie,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"website",label:"Website",component:ie,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"about",label:"About Yourself",component:ue,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},me(a),r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Save"))))}}]),t}(n.Component);var _e=Object(s.connect)(function(e){return{initialValues:e.auth.user}})(Object(se.a)({form:"update_user_profile",onSubmit:function(e,t,a){var n=w(v.getState());return y.a.patch(_.USER_PROFILE,e,{headers:{authorization:"Token "+n}}).then(function(e){t(j({message:"Your profile has been updated successfully",kind:"info",dismissAfter:5e3})),a.history.push("/profile")}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})}})(Ce)),we=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Change Password"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"old_password",label:"Old Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"new_password1",label:"New Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"new_password2",label:"Confirm New Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},me(a),r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),je=Object(se.a)({form:"change_password",onSubmit:function(e,t,a){var n=_.CHANGE_PASSWORD,r=w(v.getState());if(r)return y.a.post(n,e,{headers:{authorization:"Token "+r}}).then(function(e){t(j({message:"Password has been changed successfully",kind:"info",dismissAfter:5e3})),a.history.push("/profile")}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})},validate:function(e){var t={};return e.new_password1!==e.new_password2&&(t.new_password2="Password does not match."),t}})(we),Se=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Reset Your Password"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"email",label:"Please enter your email",component:ie,type:"text",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},me(a),r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),xe=Object(se.a)({form:"password_reset",onSubmit:function(e,t,a){var n=_.RESET_PASSWORD;return y.a.post(n,e).then(function(e){a.history.push("/reset_password_done")}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})}})(Se),Te=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("h3",{className:"mx-5"},"An password reset email has been sent to your email. Please follow the link to reset your password.")}}]),t}(n.Component),Pe=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Create New Password"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"new_password1",label:"New Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(le.a,{name:"new_password2",label:"Confirm New Password",component:ie,type:"password",validate:[Object(ce.required)({message:"This field is required."})]})),r.a.createElement("fieldset",{className:"form-group"},me(a),r.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Submit"))))}}]),t}(n.Component),De=Object(se.a)({form:"password_reset_confirm",onSubmit:function(e,t,a){var n=a.match.params,r=n.uid,o=n.token,l=_.RESET_PASSWORD_CONFIRM,s=Object.assign(e,{uid:r,token:o});return y.a.post(l,s).then(function(e){t(j({message:"Password has been reset successfully, please log in",kind:"info",dismissAfter:5e3})),a.history.push("/login")}).catch(function(e){var t=T(e.response.data);throw new O.a(t)})},validate:function(e){var t={};return e.new_password1!==e.new_password2&&(t.new_password2="Password does not match."),t}})(Pe),Ie=function(){return r.a.createElement("h2",{className:"mt-2"},"Sorry, the page you are looking for doesn't exist.")},Re=(a(67),a(47)),Ae=a.n(Re),Le=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this.props.post,t=this.props.elClass,a="card"===t?"d-block":"d-none";return r.a.createElement("div",null,void 0!==e?r.a.createElement("div",{className:t},r.a.createElement(ae.a,{to:{pathname:"/react/posts/".concat(e.slug),state:{fromDashboard:!1}}},r.a.createElement("h1",null,e.title)),r.a.createElement("p",{className:a},e.content)):"")}}]),t}(n.Component),Ue=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).togglePostListClass=a.togglePostListClass.bind(Object(Z.a)(Object(Z.a)(a))),a.handleNewPost=a.handleNewPost.bind(Object(Z.a)(Object(Z.a)(a))),a.loadMorePosts=a.loadMorePosts.bind(Object(Z.a)(Object(Z.a)(a))),a.state={posts:[],postsListClass:"card",next:null,previous:null,author:!1,count:0,authenticated:!1},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"loadMorePosts",value:function(){var e=this.state.next;null===e&&void 0===e||this.props.loadPosts(e)}},{key:"loadPosts",value:function(e){var t="/api/posts/";void 0!==e&&(t=e);var a=this,n={method:"GET",headers:{"Content-Type":"application/json"}},r=Ae.a.load("csrftoken"),o=w(v.getState());console.log("token",o),console.log("csrftoken",r),void 0!==r&&(n.credentials="include",n.headers["X-CSRFToken"]=r),fetch(t,n).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({posts:a.state.posts.concat(e.results),next:e.next,previous:e.previous,author:e.author,count:e.count,authenticated:a.props.state.auth.authenticated})}).catch(function(e){console.log("error",e)})}},{key:"handleNewPost",value:function(e){var t=this.state.posts;t.unshift(e),this.setState({posts:t})}},{key:"togglePostListClass",value:function(e){e.preventDefault(),""===this.state.postsListClass?this.setState({postsListClass:"card"}):this.setState({postsListClass:""})}},{key:"componentDidMount",value:function(){this.setState({posts:[],postsListClass:"card",next:null,previous:null,author:!1,count:0,authenticated:!1}),this.loadPosts()}},{key:"render",value:function(){var e=this.state.posts,t=this.state.postsListClass,a=this.state.next,n=this.state.authenticated;return r.a.createElement("div",null,!0===n?r.a.createElement(ae.a,{className:"mr-2",to:{pathname:"/react/posts/create/",state:{fromDashboard:!1}}},"Create Post"):"",r.a.createElement("button",{onClick:this.togglePostListClass},"Toggle Class"),e.length>0?e.map(function(e,a){return r.a.createElement(Le,{post:e,key:"post-list-key ".concat(a),elClass:t})}):r.a.createElement("p",null,"No Posts Found"),null!==a?r.a.createElement("button",{onClick:this.loadMorePosts},"Load more"):"")}}]),t}(n.Component),Fe=Object(s.connect)(function(e){return{state:e}})(Ue),Me=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae.a,{className:"some-link",to:"/about/"},"Static Page"),r.a.createElement(Fe,null))}}]),t}(n.Component),ze=a(32),qe=a(34),Be=a.n(qe),He=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(Z.a)(Object(Z.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(Z.a)(Object(Z.a)(a))),a.handleDraftChange=a.handleDraftChange.bind(Object(Z.a)(Object(Z.a)(a))),a.clearForm=a.clearForm.bind(Object(Z.a)(Object(Z.a)(a))),a.postTitleRef=r.a.createRef(),a.postContentRef=r.a.createRef(),a.deletePost=a.deletePost.bind(Object(Z.a)(Object(Z.a)(a))),a.state={draft:!1,title:null,slug:null,content:null,publish:Be()(new Date).format("YYYY-MM-DD"),errors:{}},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"updatePost",value:function(e){var t=this.props.post,a="/api/posts/".concat(t.slug,"/"),n=Ae.a.load("csrftoken"),r=w(v.getState());console.log("token",r),console.log("csrftoken",n);var o=this;if(void 0!==n){var l={method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":n,Authorization:"Token "+r},body:JSON.stringify(e),credentials:"include"};fetch(a,l).then(function(e){return e.json()}).then(function(e){console.log(e),o.props.newPostItemUpdated&&o.props.newPostItemUpdated(e),o.clearForm()}).catch(function(e){console.log("error",e),alert("An error occured, please try again later.")})}}},{key:"createPost",value:function(e){var t=Ae.a.load("csrftoken"),a=this;if(console.log("csrf",t),void 0!==t){var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify(e),credentials:"include"};fetch("/api/posts/",n).then(function(e){return e.json()}).then(function(e){console.log(e),a.props.newPostItemCreated&&a.props.newPostItemCreated(e),a.clearForm(),a.defaultState()}).catch(function(e){console.log("error",e),alert("An error occured, please try again later.")})}}},{key:"deletePost",value:function(e){e.preventDefault();var t=this.props.post,a="/api/posts/".concat(t.slug,"/"),n=Ae.a.load("csrftoken");return console.log(t),fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":n},credentials:"include"}).then(function(e){return e}).then(function(e){204===e.status&&console.log("Successfully Delete")}).catch(function(e){console.log("error",e),alert("An error occured, please try again later.")})}},{key:"clearForm",value:function(e){e&&e.preventDefault(),this.postCreateForm.reset()}},{key:"clearFormRefs",value:function(){this.postTitleRef.current="",this.postContentRef.current=""}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=this.props.post;void 0!==a?this.updatePost(t):this.createPost(t),console.log({post:a})}},{key:"handleInputChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;"title"===t&&a.length>120&&alert("This title is too long"),this.setState(Object(ze.a)({},t,a))}},{key:"handleDraftChange",value:function(e){this.setState({draft:!this.state.draft})}},{key:"defaultState",value:function(){this.setState({draft:!1,title:null,content:null,slug:null,publish:Be()(new Date).format("YYYY-MM-DD")})}},{key:"componentDidMount",value:function(){var e=this.props.post;void 0!==e?this.setState({draft:e.draft,title:e.title,content:e.content,slug:e.slug,publish:Be()(e.publish).format("YYYY-MM-DD")}):this.defaultState()}},{key:"render",value:function(){var e=this,t=this.state.publish,a=this.state.title,n=this.state.content,o=this.state.slug,l=void 0!==this.props.post?"d-none":"",s=void 0===this.props.post?"d-none":"";return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,ref:function(t){return e.postCreateForm=t}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"blogTitle"},"Title"),r.a.createElement("input",{type:"text",id:"blogTitle",name:"title",className:"form-control",placeholder:"Blog post title",value:a||"",ref:this.postTitleRef,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"content"},"Content"),r.a.createElement("textarea",{id:"content",name:"content",className:"form-control",placeholder:"Post content",value:n||"",ref:this.postContentRef,onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"slug"},"Slug"),r.a.createElement("input",{type:"text",id:"slug",name:"slug",className:"form-control",placeholder:"Type Slug",value:o||"",onChange:this.handleInputChange,required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"draft"},r.a.createElement("input",{type:"checkbox",id:"draft",name:"draft",className:"mr-2",onChange:this.handleDraftChange,checked:this.state.draft}),"Draft"),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.handleDraftChange()}},"Toggle Draft")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"publish"},"Publish Date"),r.a.createElement("input",{type:"date",id:"publish",name:"publish",className:"form-control",onChange:this.handleInputChange,required:"required",value:t})),r.a.createElement("button",{type:"submit",className:"btn btn-primary "},"Save"),r.a.createElement("button",{className:"btn btn-secondary ".concat(l),onClick:this.clearForm},"Clear"),r.a.createElement("button",{className:"btn btn-danger' ".concat(s),onClick:this.deletePost},"Delete")))}}]),t}(n.Component),We=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).handlePostItemUpdated=a.handlePostItemUpdated.bind(Object(Z.a)(Object(Z.a)(a))),a.state={slug:null,post:null,doneLoading:!1},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"handlePostItemUpdated",value:function(e){this.setState({post:e})}},{key:"loadPost",value:function(e){var t="/api/posts/".concat(e,"/"),a=this,n={method:"GET",headers:{"Content-Type":"application/json"}},r=Ae.a.load("csrftoken");void 0!==r&&(n.credentials="include",n.headers["X-CSRFToken"]=r),fetch(t,n).then(function(e){return 404===e.status&&console.log("Page not found"),e.json()}).then(function(e){e.detail?a.setState({doneLoading:!0,post:null}):a.setState({doneLoading:!0,post:e})}).catch(function(e){console.log("error",e)})}},{key:"componentDidMount",value:function(){if(this.setState({slug:null,post:null}),this.props.match){var e=this.props.match.params.slug;this.setState({slug:e,doneLoading:!1}),this.loadPost(e)}}},{key:"render",value:function(){var e=this.state.doneLoading,t=this.state.post;return r.a.createElement("div",null,!0===e?r.a.createElement("div",null,null===t?"Not Found":r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},r.a.createElement(ae.a,{to:{pathname:"/react/posts/",state:{fromDashboard:!1}}},"BACK"),!0===t.owner?r.a.createElement(ae.a,{to:{pathname:"/react/posts/create/",state:{fromDashboard:!1}}},"Create Post"):""),r.a.createElement("h1",null,t.slug),r.a.createElement("h1",null,t.title),!0===t.owner?r.a.createElement(He,{post:t,postItemUpdated:this.handlePostItemUpdated}):"")):"Loading...")}}]),t}(n.Component),Ye=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae.a,{to:{pathname:"/react/posts/",state:{fromDashboard:!1}}},"BACK"),r.a.createElement("h1",null,"Create Post"),r.a.createElement(He,null))}}]),t}(n.Component),Ge=function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/";void 0!==e&&null!==e&&(o=e),r&&(n.Authorization="Token ".concat(r));var l=a().notes;return fetch(o,{headers:n}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"FETCH_NOTES",notes:l.push(e.data),loading:!1});if(401===e.status||403===e.status)throw t({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}},Ve=a(384),Ze=a(363),$e=a(364),Je=a(365),Xe=a(366),Ke=a(367),Qe=a(368),et=a(369),tt=a(157),at=a(370),nt=a(371),rt=a(372),ot=a(373),lt=a(374),st=a(375),ct=a(376),it=(a(339),function(){return r.a.createElement("div",{className:"loadscreen"},r.a.createElement("div",{className:"load-9"},r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bubble-1"}),r.a.createElement("div",{className:"bubble-2"}))))}),ut=a(13),mt=a(14),dt=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).resetForm=function(){a.setState({text:"",phone:"",email:"",errors:{},updateNoteId:null,status:"Candidate",is_corporate:!1,is_payed:!1,linkedin_profile:"",website:"",correspondence:""})},a.addNew=function(){a.setState({text:"",phone:"",email:"",errors:{},updateNoteId:null,status:"Candidate",is_corporate:!1,is_payed:!1,linkedin_profile:"",website:"",modal:!0,correspondence:""})},a.resetSearch=function(){a.setState({searchtext:""})},a.resetSort=function(){a.setState({order:[]},function(){this.handleOrderNotes()})},a.selectForEdit=function(e,t){var n=a.props.notes[e].noteitems[t];a.setState({text:n.text,phone:n.phone,status:n.status,is_payed:n.is_payed,is_corporate:n.is_corporate,email:n.email,linkedin_profile:n.linkedin_profile,website:n.website,correspondence:n.correspondence,updateNoteId:t,updateNoteIndex:e,modal:!0})},a.selectForDelete=function(e,t){a.props.deleteNote(e,t),a.setState({modaldelete:!1})},a.toggle=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.toggleModal=function(){a.setState(function(e){return{modal:!e.modal}})},a.toggleModalDelete=function(e,t){console.log(e,t),a.setState(function(a){return{modaldelete:!a.modaldelete,index:e,id:t}})},a.handleValidation=function(){var e=a.state,t={},n=!0;if(""===e.text.trim()?(n=!1,t.text="Cannot be empty"):"undefined"!==typeof e.text&&(e.text.match(/^[a-zA-Z]+$/)?e.text.length>7&&(n=!1,t.text="Your name is too long"):(n=!1,t.text="Name must be only letters")),""===e.phone.trim()?(n=!1,t.phone="Phone cannot be empty"):"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9\-\\+]{9,15}$/)||(n=!1,t.phone="Not phone number")),""===e.email.trim())n=!1,t.email="Cannot be empty";else if("undefined"!==typeof e.email){var r=e.email.lastIndexOf("@"),o=e.email.lastIndexOf(".");r<o&&r>0&&-1===e.email.indexOf("@@")&&o>2&&e.email.length-o>2||(n=!1,t.email="Email is not valid")}if(""===e.linkedin_profile.trim())n=!1,t.linkedin_profile="Cannot be empty";else if("undefined"!==typeof e.linkedin_profile){/^((https?|ftp|smtp):\/\/)+(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9-_#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/.test(e.linkedin_profile)||(n=!1,t.linkedin_profile="Not Linkedin URL")}if(""===e.website.trim());else if("undefined"!==typeof e.website){/^((https?|ftp|smtp):\/\/)+(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)?$/.test(e.website)||(n=!1,t.website="URL is not valid")}return a.setState({errors:t}),n},a.handleChange=function(e){var t;e.preventDefault();var n=e.target.name,r=e.target.value;a.setState((t={},Object(ze.a)(t,n,r),Object(ze.a)(t,"errors",{}),t))},a.changeValue=function(e){a.setState({status:e.currentTarget.textContent})},a.loadMorePosts=function(){var e=a.props.notes[a.props.notes.length-1].next;null===e&&void 0===e||a.props.fetchNotes(e)},a.searchNotes=function(){var e=a.state.searchtext;null===e&&void 0===e||(a.props.searchNotes(e),a.setState({is_ordering_name:!1,order:[]}))},a.onCheckboxIsCorpBtnClick=function(){a.setState({is_corporate:!a.state.is_corporate})},a.onCheckboxIsPayBtnClick=function(){a.setState({is_payed:!a.state.is_payed})},a.onBtnClickOrderingName=function(e){var t=Object(f.a)(a.state.order),n="-"+e,r=!1;if("C"===e.charAt(0)){var o=t.indexOf(e.slice(1,e.length));-1!==o&&t.splice(o,1)}else if(t.includes(e)){var l=t.indexOf(e);-1!==l&&(t.splice(l,1),t.splice(l,0,n))}else if(t.includes(n)){var s=t.indexOf(n);-1!==s&&(t.splice(s,1),t.splice(s,0,e))}else t.push(e);t.length>0&&(r=!0),a.setState({is_ordering_name:r,searchtext:"",order:t},function(){this.handleOrderNotes()})},a.handleOrderNotes=function(){var e=a.state.order.map(function(e){return e}).join(",");a.state.order.length?a.props.orderNotes(e):(a.setState({order:[]}),a.props.orderNotes(""))},a.submitNote=function(e){e.preventDefault(),a.handleValidation()&&(null===a.state.updateNoteId?a.props.addNote(a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.is_payed,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence).then(a.resetForm).then(a.toggleModal).catch(function(e){console.log("error",e)}):a.props.updateNote(a.state.updateNoteIndex,a.state.updateNoteId,a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.is_payed,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence).then(a.resetForm).then(a.toggleModal).catch(function(e){console.log("error",e)}))},a.state={text:"",phone:"",status:"Candidate",email:"",linkedin_profile:"",website:"",correspondence:"",is_corporate:!1,is_payed:!1,searchtext:"",updateNoteId:null,updateNoteIndex:null,dropdownOpen:!1,is_ordering_name:!1,modal:!1,modaldelete:!1,is_staff:!1,loading:!0,order:[],errors:{},notes:[{count:null,next:null,previous:null,noteitems:[]}]},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchNotes()}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:e.notes[0].loading});var t=null;if(this.props.notes[0].noteitems.length>e.notes[0].noteitems.length&&""===this.state.searchtext&&""===this.state.is_ordering_name&&(t=this.props.notes[0].next)){var a=parseInt(t.slice(-1),10);t=a-1>=2?t.slice(0,-1)+(a-1):t.split("?")[0]}}},{key:"renderModal",value:function(){if(this.state.modal){var e=this.state.errors,t=this.props.is_staff;return r.a.createElement(Ve.a,{isOpen:this.state.modal,toggle:this.toggleModal},r.a.createElement(Ze.a,{onSubmit:this.submitNote},r.a.createElement($e.a,{toggle:this.toggleModal},null===this.state.updateNoteId?"New Investor":"Edit Investor"),r.a.createElement(Je.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{name:"text",value:this.state.text||"",placeholder:"Enter name...",onChange:this.handleChange,required:!0}),e.text?r.a.createElement(et.a,{color:"danger"},e.text):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Phone ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"phone",type:"tel",value:this.state.phone||"",placeholder:"Enter phone...",onChange:this.handleChange}),e.phone?r.a.createElement(et.a,{color:"danger"},e.phone):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Email ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"email",type:"text",value:this.state.email||"",placeholder:"Enter email...",onChange:this.handleChange}),e.email?r.a.createElement(et.a,{color:"danger"},e.email):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Linkedin ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"linkedin_profile",type:"text",value:this.state.linkedin_profile||"",placeholder:"Enter Linkedin profile...",onChange:this.handleChange}),e.linkedin_profile?r.a.createElement(et.a,{color:"danger"},e.linkedin_profile):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Website"),r.a.createElement(Qe.a,{className:"form-group",name:"website",type:"text",value:this.state.website||"",placeholder:"Enter your website...",onChange:this.handleChange}),e.website?r.a.createElement(et.a,{color:"danger"},e.website):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Correspondence"),r.a.createElement(Qe.a,{className:"form-group",name:"correspondence",type:"textarea",value:this.state.correspondence||"",placeholder:"Enter your correspondence...",onChange:this.handleChange}),e.correspondence?r.a.createElement(et.a,{color:"danger"},e.correspondence):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Individual ",r.a.createElement(ut.a,{icon:mt.g,color:this.state.is_corporate?"grey":"black"})," / Corporate ",r.a.createElement(ut.a,{icon:mt.n,color:this.state.is_corporate?"black":"grey"})),r.a.createElement(tt.a,{className:"btn btn-block",onClick:this.onCheckboxIsCorpBtnClick,active:this.state.is_corporate},this.state.is_corporate?"Change to Individual":"Change to Corporate")),null!==this.state.updateNoteId?r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Status"),r.a.createElement(at.a,{className:"form-group",isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(nt.a,{className:"btn-block",caret:!0},this.state.status),r.a.createElement(rt.a,{className:"btn-block"},r.a.createElement(ot.a,{onClick:this.changeValue},"Candidate"),r.a.createElement(ot.a,{onClick:this.changeValue},"Processed"),r.a.createElement(ot.a,{onClick:this.changeValue},"Converted"),r.a.createElement(ot.a,{onClick:this.changeValue},"Rejected")))):null,null!==this.state.updateNoteId&&"Candidate"!==this.state.status&&t?r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"New ",r.a.createElement(ut.a,{icon:mt.e,color:this.state.is_payed?"grey":"black"})," / Payed ",r.a.createElement(ut.a,{icon:mt.a,color:this.state.is_payed?"black":"grey"})),r.a.createElement(tt.a,{className:"btn btn-block",onClick:this.onCheckboxIsPayBtnClick,active:this.state.is_payed},this.state.is_payed?"Change to New":"Change to Payed")):null),r.a.createElement(lt.a,null,r.a.createElement(Xe.a,{row:!0},r.a.createElement(tt.a,{className:"rounded-0",color:"info",type:"submit"},r.a.createElement(ut.a,{icon:mt.i,color:"white"})),null===this.state.updateNoteId?r.a.createElement(tt.a,{className:"rounded-0",onClick:this.resetForm},"Reset"):null,r.a.createElement(tt.a,{className:"rounded-0",onClick:this.toggleModal},"Cancel")))))}}},{key:"renderModalDelete",value:function(){var e=this;if(this.state.modaldelete)return r.a.createElement(Ve.a,{isOpen:this.state.modaldelete,toggle:this.toggleModalDelete},r.a.createElement($e.a,{toggle:this.toggleModalDelete},"Delete Investor?"),r.a.createElement(lt.a,null,r.a.createElement(Xe.a,{row:!0},r.a.createElement(tt.a,{className:"rounded-0",color:"info",onClick:function(){return e.selectForDelete(e.state.index,e.state.id)}},r.a.createElement(ut.a,{icon:mt.l,color:"white"})),r.a.createElement(tt.a,{className:"rounded-0",onClick:this.toggleModalDelete},"Cancel"))))}},{key:"renderNotes",value:function(){var e=this,t=this.props.notes,a=this.state,n=a.errors,o=a.modal,l=a.order,s=a.modaldelete,c=this.props.notes[this.props.notes.length-1].next;return r.a.createElement("div",null,r.a.createElement("div",{className:"centering mt-2"},r.a.createElement("div",{className:"centering-left"},r.a.createElement(ae.a,{to:"/investors/add"},r.a.createElement(tt.a,{className:"rounded-0",color:"info"},r.a.createElement(ut.a,{icon:mt.h,color:"white"})," Add New"))),r.a.createElement("div",{className:"centering-center"},o?this.renderModal():null,s?this.renderModalDelete():null,r.a.createElement(Xe.a,{row:!0},r.a.createElement(tt.a,{className:"rounded-0",color:"info",onClick:this.addNew},"Add New"),r.a.createElement(st.a,{inline:!0,id:"searchtext",type:"text",name:"searchtext",value:this.state.searchtext||"",placeholder:"Search by Name...",onChange:this.handleChange}),n.searchtext?r.a.createElement(et.a,{color:"danger"},n.searchtext):"",r.a.createElement(tt.a,{className:"rounded-0",onClick:this.searchNotes},r.a.createElement(ut.a,{icon:mt.j,color:"white"})),""!==this.state.searchtext?r.a.createElement(tt.a,{outline:!0,className:"rounded-0",onClick:this.resetSearch},"Clear"):"")),r.a.createElement("div",{className:"centering-right"})),r.a.createElement("div",{className:"centering"},r.a.createElement("div",{className:"centering-left"}),r.a.createElement("h3",{className:"centering-center"},"Leads"),r.a.createElement("div",{className:"centering-right centering-right__tablepreffix"},l.length>0?r.a.createElement(tt.a,{color:"info",onClick:this.resetSort},"Clear Sort"):r.a.createElement(tt.a,{outline:!0,color:"info",disabled:!0},"Clear Sort"))),r.a.createElement(ct.a,{className:"table text-center",striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,r.a.createElement(ut.a,{icon:mt.g,color:"black"})," / ",r.a.createElement(ut.a,{icon:mt.n,color:"black"})),r.a.createElement("th",null,"Name ",r.a.createElement(tt.a,{color:"link",onClick:function(){return e.onBtnClickOrderingName("text")}},l.includes("text")?r.a.createElement(ut.a,{icon:mt.f,color:"black"}):l.includes("-text")?r.a.createElement(ut.a,{rotation:180,icon:mt.f,color:"black"}):r.a.createElement(ut.a,{rotation:90,icon:mt.c,color:"grey"})),l.includes("text")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("Ctext")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):l.includes("-text")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("C-text")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):""),r.a.createElement("th",null,"Dev ",r.a.createElement(tt.a,{color:"link",onClick:function(){return e.onBtnClickOrderingName("owner")}},l.includes("owner")?r.a.createElement(ut.a,{icon:mt.f,color:"black"}):l.includes("-owner")?r.a.createElement(ut.a,{rotation:180,icon:mt.f,color:"black"}):r.a.createElement(ut.a,{rotation:90,icon:mt.c,color:"grey"})),l.includes("owner")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("Cowner")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):l.includes("-owner")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("C-owner")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):""),r.a.createElement("th",null,"Phone"),r.a.createElement("th",null,"Status ",r.a.createElement(tt.a,{color:"link",onClick:function(){return e.onBtnClickOrderingName("status")}},l.includes("status")?r.a.createElement(ut.a,{icon:mt.f,color:"black"}):l.includes("-status")?r.a.createElement(ut.a,{rotation:180,icon:mt.f,color:"black"}):r.a.createElement(ut.a,{rotation:90,icon:mt.c,color:"grey"})),l.includes("status")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("Cstatus")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):l.includes("-status")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("C-status")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):""),r.a.createElement("th",null,"Payment ",r.a.createElement(tt.a,{color:"link",onClick:function(){return e.onBtnClickOrderingName("is_payed")}},l.includes("is_payed")?r.a.createElement(ut.a,{icon:mt.f,color:"black"}):l.includes("-is_payed")?r.a.createElement(ut.a,{rotation:180,icon:mt.f,color:"black"}):r.a.createElement(ut.a,{rotation:90,icon:mt.c,color:"grey"})),l.includes("is_payed")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("Cis_payed")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):l.includes("-is_payed")?r.a.createElement(tt.a,{color:"link",className:"btn-sort__clear",onClick:function(){return e.onBtnClickOrderingName("C-is_payed")}},r.a.createElement(ut.a,{icon:mt.k,color:"black"})):""),r.a.createElement("th",null,"Manage"))),void 0!==t?t.map(function(t,a){return r.a.createElement("tbody",{key:a},void 0!==t.noteitems&&t.noteitems.length>0?t.noteitems.map(function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row"},n+1),r.a.createElement("td",null,t.is_corporate?r.a.createElement(ut.a,{icon:mt.n,color:"black"}):r.a.createElement(ut.a,{icon:mt.g,color:"black"})),r.a.createElement("td",null,r.a.createElement(ae.a,{to:{pathname:"/investors/".concat(t.id),state:{fromDashboard:!1}}},t.text)),r.a.createElement("td",null,t.owner_username),r.a.createElement("td",null,t.phone),r.a.createElement("td",null,t.status),r.a.createElement("td",null,t.is_payed?r.a.createElement(ut.a,{icon:mt.a,color:"black"}):r.a.createElement(ut.a,{icon:mt.e,color:"black"})),r.a.createElement("td",null,r.a.createElement(tt.a,{className:"mr-1",color:"info",onClick:function(){return e.selectForEdit(a,n)}},r.a.createElement(ut.a,{icon:mt.b,color:"white"})),r.a.createElement(tt.a,{onClick:function(){return e.toggleModalDelete(a,n)}},r.a.createElement(ut.a,{icon:mt.l,color:"white"}))))}):null)}):null),null!==c?r.a.createElement(tt.a,{onClick:this.loadMorePosts},"Load more"):"")}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",null,e?r.a.createElement(it,null):this.renderNotes())}}]),t}(n.Component),pt=Object(s.connect)(function(e){return{notes:e.notes}},function(e){return{fetchNotes:function(t){e(Ge(t))},addNote:function(t,a,n,r,o,l,s,c,i){return e(function(e,t,a,n,r,o,l,s,c){return function(i,u){var m={"Content-Type":"application/json"},d=u().auth.token;d&&(m.Authorization="Token ".concat(d));var p=JSON.stringify({text:e,phone:t,status:a,is_corporate:n,is_payed:r,email:o,linkedin_profile:l,website:s,correspondence:c});return fetch("/api/investors/",{headers:m,method:"POST",body:p}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(201===e.status)return i({type:"ADD_NOTE",note:e.data});if(401===e.status||403===e.status)throw i({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t,a,n,r,o,l,s,c,i))},updateNote:function(t,a,n,r,o,l,s,c,i,u,m){return e(function(e,t,a,n,r,o,l,s,c,i,u){return function(m,d){var p={"Content-Type":"application/json"},h=d().auth.token;h&&(p.Authorization="Token ".concat(h));var f=JSON.stringify({text:a,phone:n,status:r,is_corporate:o,is_payed:l,email:s,linkedin_profile:c,website:i,correspondence:u});console.log("id",t,"index",e);var E=d().notes[e].noteitems[t].id;return fetch("/api/investors/".concat(E,"/"),{headers:p,method:"PUT",body:f}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(a){if(200===a.status)return m({type:"UPDATE_NOTE",note:a.data,index:e,id:t});if(401===a.status||403===a.status)throw m({type:"AUTHENTICATION_ERROR",data:a.data}),a.data})}}(t,a,n,r,o,l,s,c,i,u,m))},deleteNote:function(t,a){e(function(e,t){return function(a,n){var r={"Content-Type":"application/json"},o=n().auth.token;o&&(r.Authorization="Token ".concat(o));var l=n().notes[e].noteitems[t].id;return fetch("/api/investors/".concat(l,"/"),{headers:r,method:"DELETE"}).then(function(e){if(204===e.status)return{status:e.status,data:{}};if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(n){if(204===n.status)return a({type:"DELETE_NOTE",id:e,index:t});if(401===n.status||403===n.status)throw a({type:"AUTHENTICATION_ERROR",data:n.data}),n.data}).then(function(e){a(Ge())})}}(t,a))},searchNotes:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/";return void 0!==e&&null!==e&&(o="/api/investors/?search=".concat(e)),r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n,method:"GET"}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"SEARCH_NOTES",notes:e.data});if(401===e.status||403===e.status)throw t({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t))},orderNotes:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/";return void 0!==e&&null!==e&&(o="/api/investors/?ordering=".concat(e)),r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n,method:"GET"}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"ORDER_NOTES",notes:e.data});if(401===e.status||403===e.status)throw t({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t))}}})(dt),ht=a(377),ft=a(163),Et=a(165),bt=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(R.a)(t)).call.apply(e,[this].concat(r)))).onDrop=function(e,t){a.props.onSelectDrop(e)},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Et.a,{onDrop:this.onDrop,multiple:!1,maxSize:1e7},function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("div",Object.assign({},a(),{className:"dropzone-field"}),r.a.createElement("input",n()),r.a.createElement("div",null,r.a.createElement(ut.a,{icon:mt.d,color:"white"}),e.props.documents?e.props.detail&&e.props.documents===e.props.detail?"  Replace Document":"  Save to Attach":"  Add Document"))}),"\ufeff")}}]),t}(n.Component),gt=(a(346),function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).toggle=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.handleChange=function(e){var t;e.preventDefault();var n=e.target.name,r=e.target.value;a.setState((t={},Object(ze.a)(t,n,r),Object(ze.a)(t,"errors",{}),t))},a.changeDate=function(e){a.setState({last_call:e})},a.changeValue=function(e){a.setState({status:e.currentTarget.textContent})},a.handleValidation=function(){var e=a.state,t={},n=!0;if(""===e.text.trim()?(n=!1,t.text="Cannot be empty"):"undefined"!==typeof e.text&&(e.text.match(/^[a-zA-Z]+$/)?e.text.length>7&&(n=!1,t.text="Your name is too long"):(n=!1,t.text="Name must be only letters")),""===e.phone.trim()?(n=!1,t.phone="Phone cannot be empty"):"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9\-\\+]{9,15}$/)||(n=!1,t.phone="Not phone number")),""===e.email.trim())n=!1,t.email="Cannot be empty";else if("undefined"!==typeof e.email){var r=e.email.lastIndexOf("@"),o=e.email.lastIndexOf(".");r<o&&r>0&&-1===e.email.indexOf("@@")&&o>2&&e.email.length-o>2||(n=!1,t.email="Email is not valid")}if(""===e.linkedin_profile.trim())n=!1,t.linkedin_profile="Cannot be empty";else if("undefined"!==typeof e.linkedin_profile){/^((https?|ftp|smtp):\/\/)+(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9-_#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/.test(e.linkedin_profile)||(n=!1,t.linkedin_profile="Not Linkedin URL")}if(""===e.website.trim());else if("undefined"!==typeof e.website){/^((https?|ftp|smtp):\/\/)+(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)?$/.test(e.website)||(n=!1,t.website="URL is not valid")}return a.setState({errors:t}),n},a.getData=function(e){a.setState({documents:e[0],attached:!0})},a.onCheckboxIsCorpBtnClick=function(){a.setState({is_corporate:!a.state.is_corporate})},a.onCheckboxIsPayBtnClick=function(){a.setState({is_payed:!a.state.is_payed})},a.onAddCallClick=function(){a.setState({add_call:!0,last_call:Be()(new Date,Be.a.defaultFormat).toDate()})},a.onResetCallClick=function(){a.setState({add_call:!1,last_call:""})},a.submitNote=function(e){e.preventDefault(),a.handleValidation()&&a.props.updateDetailNote(a.state.id,a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.is_payed,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence,a.state.last_call,a.state.documents,a.state.attached)},a.state={text:"",phone:"",status:"",email:"",linkedin_profile:"",website:"",correspondence:"",is_corporate:!1,is_payed:!1,id:null,loading:!0,errors:{},hasError:!1,dropdownOpen:!1,detail:{},add_call:!1,last_call:"",documents:null,attached:!1},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match){var e=this.props.match.params.id;this.setState({id:e}),this.props.fetchDetailNote(e)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.detail;Object.keys(t).length&&this.setState({text:t.text,phone:t.phone,status:t.status,is_corporate:t.is_corporate,is_payed:t.is_payed,email:t.email,linkedin_profile:t.linkedin_profile,website:t.website,correspondence:t.correspondence,last_call:Be()(t.last_call,Be.a.defaultFormat).toDate(),documents:t.documents,hasError:t.hasError,loading:t.loading})}},{key:"renderNote",value:function(){var e=this.props.detail,t=this.props.is_staff,a=this.state.errors,n=this.state.hasError;return e.detail||n?r.a.createElement("div",null,r.a.createElement("h1",null,"404 error. Message Not Found")):r.a.createElement(ht.a,{fluid:!0},r.a.createElement($.a,null,r.a.createElement(Ze.a,{onSubmit:this.submitNote,className:"form col col-lg-4 mt-2 p-2"},r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{name:"text",value:this.state.text||"",placeholder:"Enter name...",onChange:this.handleChange,required:!0}),a.text?r.a.createElement(et.a,{color:"danger"},a.text):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Phone ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"phone",type:"tel",value:this.state.phone||"",placeholder:"Enter phone...",onChange:this.handleChange}),a.phone?r.a.createElement(et.a,{color:"danger"},a.phone):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Email ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"email",type:"text",value:this.state.email||"",placeholder:"Enter email...",onChange:this.handleChange}),a.email?r.a.createElement(et.a,{color:"danger"},a.email):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Linkedin ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"linkedin_profile",type:"text",value:this.state.linkedin_profile||"",placeholder:"Enter Linkedin profile...",onChange:this.handleChange}),a.linkedin_profile?r.a.createElement(et.a,{color:"danger"},a.linkedin_profile):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Website"),r.a.createElement(Qe.a,{className:"form-group",name:"website",type:"text",value:this.state.website||"",placeholder:"Enter your website...",onChange:this.handleChange}),a.website?r.a.createElement(et.a,{color:"danger"},a.website):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Correspondence"),r.a.createElement(Qe.a,{className:"form-group",name:"correspondence",type:"textarea",value:this.state.correspondence||"",placeholder:"Enter your correspondence...",onChange:this.handleChange}),a.correspondence?r.a.createElement(et.a,{color:"danger"},a.correspondence):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Individual ",r.a.createElement(ut.a,{icon:mt.g,color:this.state.is_corporate?"grey":"black"})," / Corporate ",r.a.createElement(ut.a,{icon:mt.n,color:this.state.is_corporate?"black":"grey"})),r.a.createElement(tt.a,{className:"btn btn-block",onClick:this.onCheckboxIsCorpBtnClick,active:this.state.is_corporate},this.state.is_corporate?"Change to Individual":"Change to Corporate")),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Status"),r.a.createElement(at.a,{className:"form-group",isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(nt.a,{className:"btn-block",caret:!0},this.state.status||""),r.a.createElement(rt.a,{className:"btn-block"},r.a.createElement(ot.a,{onClick:this.changeValue},"Candidate"),r.a.createElement(ot.a,{onClick:this.changeValue},"Processed"),r.a.createElement(ot.a,{onClick:this.changeValue},"Converted"),r.a.createElement(ot.a,{onClick:this.changeValue},"Rejected")))),"Candidate"!==this.state.status&&t?r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"New ",r.a.createElement(ut.a,{icon:mt.e,color:this.state.is_payed?"grey":"black"})," / Payed ",r.a.createElement(ut.a,{icon:mt.a,color:this.state.is_payed?"black":"grey"})),r.a.createElement(tt.a,{className:"btn btn-block",onClick:this.onCheckboxIsPayBtnClick,active:this.state.is_payed},this.state.is_payed?"Change to New":"Change to Payed")):null,r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Last Call ",this.state.add_call?r.a.createElement(tt.a,{className:"btn",onClick:this.onResetCallClick},"Reset"):""),Be()(this.state.last_call).isValid()?r.a.createElement("div",null,r.a.createElement(ft.a,{selected:Be()(this.state.last_call,Be.a.defaultFormat).toDate(),onChange:this.changeDate,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"d MMMM yyyy HH:mm",timeCaption:"time"})):r.a.createElement(tt.a,{className:"btn btn-block",onClick:this.onAddCallClick},"Add Last Call")),r.a.createElement("div",null,"Documents:",e.documents?" ("+e.documents.split("/").slice(-1)[0]+")":""),r.a.createElement(bt,{onSelectDrop:this.getData,documents:this.state.documents,detail:"".concat(e.documents)}),r.a.createElement(tt.a,{color:"info",size:"lg",type:"submit"},r.a.createElement(ut.a,{icon:mt.i,color:"white"}))),r.a.createElement("div",{className:"col col-lg-8"},r.a.createElement("h3",null,"Detailed Preview"),r.a.createElement(ct.a,{striped:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Investor"),r.a.createElement("td",null,e.is_corporate?"Corporate":"Individual")),r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("td",null,e.text)),r.a.createElement("tr",null,r.a.createElement("th",null,"Phone"),r.a.createElement("td",null,e.phone)),r.a.createElement("tr",null,r.a.createElement("th",null,"Status"),r.a.createElement("td",null,e.status)),r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("td",null,e.email)),r.a.createElement("tr",null,r.a.createElement("th",null,"Linkedin"),r.a.createElement("td",{className:"table-correspondence__data"},r.a.createElement("a",{href:"".concat(e.linkedin_profile)},e.linkedin_profile))),r.a.createElement("tr",null,r.a.createElement("th",null,"Website"),r.a.createElement("td",{className:"table-correspondence__data"},r.a.createElement("a",{href:"".concat(e.website)},e.website))),r.a.createElement("tr",null,r.a.createElement("th",null,"Correspondence"),r.a.createElement("td",{className:"table-correspondence__data"},e.correspondence)),r.a.createElement("tr",null,r.a.createElement("th",null,"Payment"),r.a.createElement("td",null,e.is_payed?"Payed":"New")),r.a.createElement("tr",null,r.a.createElement("th",null,"Calls"),r.a.createElement("td",null,e.last_call?Be()(e.last_call).format("D MMM YYYY HH:mm"):"")),r.a.createElement("tr",null,r.a.createElement("th",null,"Documents"),r.a.createElement("td",null,e.documents?r.a.createElement("a",{href:"".concat(e.documents)},e.documents.split("/").slice(-1)[0]):"")))))))}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(ae.a,{to:"/investors",onClick:this.forceUpdate},r.a.createElement(tt.a,null,r.a.createElement(ut.a,{icon:mt.m,color:"white"})," Return"))),e?r.a.createElement(it,null):this.renderNote())}}]),t}(n.Component)),vt=Object(s.connect)(function(e){return{detail:e.detail}},function(e){return{fetchDetailNote:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/".concat(e,"/");return r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"FETCH_DETAIL_NOTE",detail:e.data});if(401===e.status||403===e.status)throw t({type:"AUTHENTICATION_ERROR",detail:e.data}),e.data;404===e.status&&t({type:"MESSAGE_NOT_FOUND"})}).catch(function(e){console.log("error",e)})}}(t))},updateDetailNote:function(t,a,n,r,o,l,s,c,i,u,m,d,p){e(function(e,t,a,n,r,o,l,s,c,i,u,m,d){return function(p,h){var f={Accept:"application/json"},E=h().auth.token;E&&(f.Authorization="Token ".concat(E));var b=new FormData;return b.append("text",t),b.append("phone",a),b.append("status",n),b.append("is_corporate",r),b.append("is_payed",o),b.append("email",l),b.append("linkedin_profile",s),b.append("website",c),i&&b.append("correspondence",i),d&&b.append("documents",m),u&&"Invalid Date"!==String(u)&&b.append("last_call",u.toISOString()),fetch("/api/investors/".concat(e,"/"),{headers:f,method:"PUT",body:b}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(t){if(200===t.status)return p({type:"UPDATE_DETAIL_NOTE",detail:t.data,id:e});if(401===t.status||403===t.status)throw p({type:"AUTHENTICATION_ERROR",data:t.data}),t.data})}}(t,a,n,r,o,l,s,c,i,u,m,d,p))}}})(gt),kt=a(381),yt=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).resetForm=function(){a.setState({text:"",phone:"",email:"",errors:{},status:"Candidate",is_corporate:!1,linkedin_profile:"",website:"",correspondence:""})},a.handleChange=function(e){var t;e.preventDefault();var n=e.target.name,r=e.target.value;a.setState((t={},Object(ze.a)(t,n,r),Object(ze.a)(t,"errors",{}),t))},a.changeValue=function(e){a.setState({status:e.currentTarget.textContent})},a.handleValidation=function(){var e=a.state,t={},n=!0;if(""===e.text.trim()?(n=!1,t.text="Cannot be empty"):"undefined"!==typeof e.text&&(e.text.match(/^[a-zA-Z]+$/)?e.text.length>7&&(n=!1,t.text="Your name is too long"):(n=!1,t.text="Name must be only letters")),""===e.phone.trim()?(n=!1,t.phone="Phone cannot be empty"):"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9\-\\+]{9,15}$/)||(n=!1,t.phone="Not phone number")),""===e.email.trim())n=!1,t.email="Cannot be empty";else if("undefined"!==typeof e.email){var r=e.email.lastIndexOf("@"),o=e.email.lastIndexOf(".");r<o&&r>0&&-1===e.email.indexOf("@@")&&o>2&&e.email.length-o>2||(n=!1,t.email="Email is not valid")}if(""===e.linkedin_profile.trim())n=!1,t.linkedin_profile="Cannot be empty";else if("undefined"!==typeof e.linkedin_profile){/^((https?|ftp|smtp):\/\/)+(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9-_#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/.test(e.linkedin_profile)||(n=!1,t.linkedin_profile="Not Linkedin URL")}if(""===e.website.trim());else if("undefined"!==typeof e.website){/^((https?|ftp|smtp):\/\/)+(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)?$/.test(e.website)||(n=!1,t.website="URL is not valid")}return a.setState({errors:t}),n},a.onCheckboxBtnClick=function(){a.setState({is_corporate:!a.state.is_corporate})},a.submitNote=function(e){e.preventDefault(),a.handleValidation()&&a.props.addDetailNote(a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence).then(a.setState({redirectToNewPage:!0})).catch(function(e){console.log("error",e)})},a.state={text:"",phone:"",email:"",status:"Candidate",linkedin_profile:"",website:"",correspondence:"",is_corporate:!1,id:null,doneLoading:!1,errors:{},redirectToNewPage:!1},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.match}},{key:"componentWillReceiveProps",value:function(e){this.state.redirectToNewPage&&this.setState({id:e.detail.id})}},{key:"render",value:function(){var e=this.state.errors;return this.state.redirectToNewPage&&this.state.id?r.a.createElement(kt.a,{to:{pathname:"/investors/".concat(this.state.id)}}):r.a.createElement("div",null,r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(ae.a,{className:"mt-2 mb-2",to:"/investors",onClick:this.forceUpdate},r.a.createElement(tt.a,null,r.a.createElement(ut.a,{icon:mt.m,color:"white"}))),r.a.createElement("h3",null,"Add New")),r.a.createElement(Ze.a,{onSubmit:this.submitNote,className:"form col col-sm-4 mt-2 p-2"},r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{name:"text",value:this.state.text||"",placeholder:"Enter name...",onChange:this.handleChange,required:!0}),e.text?r.a.createElement(et.a,{color:"danger"},e.text):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Phone ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"phone",type:"tel",value:this.state.phone||"",placeholder:"Enter phone...",onChange:this.handleChange}),e.phone?r.a.createElement(et.a,{color:"danger"},e.phone):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Email ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"email",type:"text",value:this.state.email||"",placeholder:"Enter email...",onChange:this.handleChange}),e.email?r.a.createElement(et.a,{color:"danger"},e.email):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Linkedin ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(Qe.a,{className:"form-group",name:"linkedin_profile",type:"text",value:this.state.linkedin_profile||"",placeholder:"Enter Linkedin profile...",onChange:this.handleChange}),e.linkedin_profile?r.a.createElement(et.a,{color:"danger"},e.linkedin_profile):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Website"),r.a.createElement(Qe.a,{className:"form-group",name:"website",type:"text",value:this.state.website||"",placeholder:"Enter your website...",onChange:this.handleChange}),e.website?r.a.createElement(et.a,{color:"danger"},e.website):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Correspondence"),r.a.createElement(Qe.a,{className:"form-group",name:"correspondence",type:"textarea",value:this.state.correspondence||"",placeholder:"Enter your correspondence...",onChange:this.handleChange}),e.correspondence?r.a.createElement(et.a,{color:"danger"},e.correspondence):""),r.a.createElement(Xe.a,null,r.a.createElement(Ke.a,null,"Individual ",r.a.createElement(ut.a,{icon:mt.g,color:"black"})," / Corporate ",r.a.createElement(ut.a,{icon:mt.n,color:"black"})),r.a.createElement(tt.a,{className:"btn btn-block",onClick:this.onCheckboxBtnClick,active:this.state.is_corporate},this.state.is_corporate?"Corporate":"Individual")),r.a.createElement(tt.a,{color:"info",onClick:this.resetForm},"Reset"),r.a.createElement(tt.a,{type:"submit"},r.a.createElement(ut.a,{icon:mt.i,color:"white"}))))}}]),t}(n.Component),Ot=Object(s.connect)(function(e){return{detail:e.detail}},function(e){return{addDetailNote:function(t,a,n,r,o,l,s,c){return e(function(e,t,a,n,r,o,l,s){return function(c,i){var u={"Content-Type":"application/json"},m=i().auth.token;m&&(u.Authorization="Token ".concat(m));var d=JSON.stringify({text:e,phone:t,status:a,is_corporate:n,email:r,linkedin_profile:o,website:l,correspondence:s});return fetch("/api/investors/",{headers:u,method:"POST",body:d}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(201===e.status)return c({type:"ADD_DETAIL_NOTE",detail:e.data});if(401===e.status||403===e.status)throw c({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t,a,n,r,o,l,s,c))}}})(yt),Nt=function(e){function t(e){var a;return Object(P.a)(this,t),(a=Object(I.a)(this,Object(R.a)(t).call(this,e))).state={loading:!0,errors:{},lead:{}},a}return Object(A.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.match&&this.props.fetchPaymentsLead()}},{key:"renderPayments",value:function(){var e=this.props.lead;if(e.leads)return r.a.createElement("div",null,r.a.createElement("h3",null,"Leads View"),r.a.createElement(ct.a,{className:"table text-center",striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Developer"),r.a.createElement("th",null,"Total Leads"),r.a.createElement("th",null,"Processed"),r.a.createElement("th",null,"Converted"),r.a.createElement("th",null,"Rejected"),r.a.createElement("th",null,"Next Payment"))),r.a.createElement("tbody",null,e.leads.length>0?e.leads.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.owner),r.a.createElement("td",null,e.total),r.a.createElement("td",null,e.processed),r.a.createElement("td",null,e.converted),r.a.createElement("td",null,e.rejected),r.a.createElement("td",null,e.price))}):r.a.createElement("tr",null,r.a.createElement("td",{colspan:"7"},"Table is empty. Add your investors")))))}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement("div",null,e?r.a.createElement(it,null):this.renderPayments())}}]),t}(n.Component),Ct=Object(s.connect)(function(e){return{lead:e.lead,loading:e.lead.loading}},function(e){return{fetchPaymentsLead:function(){e(function(e,t){var a={"Content-Type":"application/json"},n=t().auth.token;return n&&(a.Authorization="Token ".concat(n)),fetch("/api/payments/",{headers:a}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(t){if(200===t.status)return e({type:"FETCH_PAYMENTS_LEAD",leads:t.data});if(401===t.status||403===t.status)throw e({type:"AUTHENTICATION_ERROR",data:t.data}),t.data;if(404===t.status)throw e({type:"ERROR_NOT_FOUND",leads:t.data}),t.data})})}}})(Nt),_t=function(){return r.a.createElement("div",null,r.a.createElement(Y.a,null,r.a.createElement(G.a,{exact:!0,path:"/",component:function(e){return r.a.createElement(oe,e)}}),r.a.createElement(G.a,{path:"/login",component:function(e){return r.a.createElement(pe,e)}}),r.a.createElement(G.a,{path:"/logout",component:function(e){return r.a.createElement(fe,e)}}),r.a.createElement(G.a,{path:"/signup",component:function(e){return r.a.createElement(be,e)}}),r.a.createElement(G.a,{path:"/account/confirm-email/:key",component:function(e){return r.a.createElement(ke,e)}}),r.a.createElement(G.a,{path:"/signup_done",component:function(e){return r.a.createElement(ge,e)}}),r.a.createElement(G.a,{path:"/reset_password",component:function(e){return r.a.createElement(xe,e)}}),r.a.createElement(G.a,{path:"/reset_password_done",component:function(e){return r.a.createElement(Te,e)}}),r.a.createElement(G.a,{path:"/reset/:uid/:token/",component:function(e){return r.a.createElement(De,e)}}),r.a.createElement(G.a,{path:"/profile",component:V(Ne)}),r.a.createElement(G.a,{path:"/profile_edit",component:V(_e)}),r.a.createElement(G.a,{path:"/change_password",component:V(je)}),r.a.createElement(G.a,{path:"/react/posts/create",component:V(Ye)}),r.a.createElement(G.a,{path:"/react/posts/:slug",component:V(We)}),r.a.createElement(G.a,{path:"/react/posts",component:V(Me)}),r.a.createElement(G.a,{exact:!0,path:"/investors",component:V(pt)}),r.a.createElement(G.a,{path:"/investors/add",component:V(Ot)}),r.a.createElement(G.a,{path:"/investors/:id",component:V(vt)}),r.a.createElement(G.a,{exact:!0,path:"/payments",component:V(Ct)}),r.a.createElement(G.a,{component:function(e){return r.a.createElement(Ie,e)}})))},wt=function(e){function t(){return Object(P.a)(this,t),Object(I.a)(this,Object(R.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("div",{className:"container"},r.a.createElement(_t,null)))}}]),t}(n.Component),jt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function St(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}!function(){if("serviceWorker"in navigator){if(new URL("/static/bundles",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/static/bundles","/service-worker.js");jt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):St(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):St(e)})}}();var xt=localStorage.getItem("token");xt&&v.dispatch(S(xt)),l.a.render(r.a.createElement(s.Provider,{store:v},r.a.createElement(c.a,null,r.a.createElement(wt,null))),document.getElementById("root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.84cfb22f.chunk.js.map