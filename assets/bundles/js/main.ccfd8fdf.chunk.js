(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{189:function(e,t,a){a(190),e.exports=a(357)},190:function(e,t,a){"use strict";"undefined"===typeof Promise&&(a(191).enable(),window.Promise=a(193)),a(194),Object.assign=a(88)},196:function(e,t,a){},282:function(e){e.exports={name:"frontend",version:"0.1.0",homepage:"http://underproof2017.pythonanywhere.com/",private:!0,dependencies:{"@babel/core":"7.2.2","@svgr/webpack":"^4.2.0","babel-core":"7.0.0-bridge.0","babel-jest":"24.1.0","babel-plugin-named-asset-import":"^0.3.1","babel-preset-react-app":"^7.0.1",bfj:"6.1.1","case-sensitive-paths-webpack-plugin":"2.2.0","css-loader":"2.1.0",dotenv:"6.2.0","dotenv-expand":"4.2.0","eslint-config-react-app":"^3.0.7","eslint-loader":"2.1.2","eslint-plugin-import":"2.16.0","eslint-plugin-jsx-a11y":"6.2.1","file-loader":"3.0.1","fork-ts-checker-webpack-plugin-alt":"0.4.14","fs-extra":"7.0.1","html-webpack-plugin":"4.0.0-alpha.2","identity-obj-proxy":"3.0.0",jest:"24.1.0","jest-pnp-resolver":"1.1.0","mini-css-extract-plugin":"0.5.0","optimize-css-assets-webpack-plugin":"5.0.1","pnp-webpack-plugin":"1.2.1","postcss-flexbugs-fixes":"4.1.0","postcss-loader":"3.0.0","postcss-preset-env":"6.5.0","postcss-safe-parser":"4.0.1",react:"^16.8.6","react-app-polyfill":"^0.2.1","react-dev-utils":"^7.0.3","react-dom":"^16.8.2","react-toastify":"^4.5.2","sass-loader":"7.1.0","style-loader":"0.23.1","terser-webpack-plugin":"1.2.2","url-loader":"1.1.2",webpack:"4.29.4","webpack-dev-server":"^3.3.1","webpack-manifest-plugin":"2.0.4","workbox-webpack-plugin":"3.6.3"},scripts:{start:"node scripts/start.js",build:"node scripts/build.js",test:"node scripts/test.js"},eslintConfig:{extends:"react-app"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"],jest:{collectCoverageFrom:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.d.ts"],resolver:"jest-pnp-resolver",setupFiles:["react-app-polyfill/jsdom"],testMatch:["<rootDir>/src/**/__tests__/**/*.{js,jsx,ts,tsx}","<rootDir>/src/**/?(*.)(spec|test).{js,jsx,ts,tsx}"],testEnvironment:"jsdom",testURL:"http://localhost",transform:{"^.+\\.(js|jsx|ts|tsx)$":"<rootDir>/node_modules/babel-jest","^.+\\.css$":"<rootDir>/config/jest/cssTransform.js","^(?!.*\\.(js|jsx|ts|tsx|css|json)$)":"<rootDir>/config/jest/fileTransform.js"},transformIgnorePatterns:["[/\\\\]node_modules[/\\\\].+\\.(js|jsx|ts|tsx)$","^.+\\.module\\.(css|sass|scss)$"],moduleNameMapper:{"^react-native$":"react-native-web","^.+\\.module\\.(css|sass|scss)$":"identity-obj-proxy"},moduleFileExtensions:["web.js","js","web.ts","ts","web.tsx","tsx","json","web.jsx","jsx","node"]},babel:{presets:["react-app"]},devDependencies:{"@fortawesome/fontawesome-free":"^5.7.2","@fortawesome/fontawesome-svg-core":"^1.2.15","@fortawesome/free-solid-svg-icons":"^5.7.2","@fortawesome/react-fontawesome":"^0.1.4",axios:"^0.18.0","babel-eslint":"^10.0.1","babel-loader":"^8.0.5","babel-plugin-transform-class-properties":"^6.24.1","babel-plugin-transform-decorators-legacy":"^1.3.5",bootstrap:"^4.3.1",chalk:"^2.4.2",eslint:"^5.13.0","eslint-plugin-flowtype":"^3.4.2","eslint-plugin-react":"^7.12.4",history:"^4.7.2","jest-resolve":"^24.1.0",jquery:"^3.4.1",moment:"^2.24.0","node-sass":"^4.12.0","react-bootstrap":"^1.0.0-beta.5","react-cookies":"^0.1.0","react-datepicker":"^2.1.0","react-dropzone":"^8.0.4","react-redux":"^6.0.0","react-router-dom":"^4.3.1",reactstrap:"^7.1.0",redux:"^4.0.1","redux-form":"^8.1.0","redux-form-validators":"^2.7.5","redux-logger":"^3.0.6","redux-thunk":"^2.3.0",resolve:"^1.10.0",typescript:"^3.3.3","webpack-bundle-tracker":"^0.4.2-beta"}}},290:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},356:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);a(195),a(196);var n=a(0),r=a.n(n),o=a(34),l=a.n(o),s=a(20),c=a(380),i=a(23),u=a(153),d=a(154),m=a(151),p=a(22),h=a(50),f=[{noteitems:[],loading:!0}];var E={LOGIN:"LOGIN",LOGOUT:"LOGOUT",CHANGE_PASSWORD:"CHANGE_PASSWORD",USER_PROFILE:"USER_PROFILE"};var b=Object(i.c)({form:m.a,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.LOGIN:return Object(p.a)({},e,{authenticated:!0,token:t.payload});case E.LOGOUT:return Object(p.a)({},e,{authenticated:!1,token:null});case E.USER_PROFILE:return Object(p.a)({},e,{user:t.payload,loading:!1})}return e},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=e.map(function(e){return e.noteitems}).reduce(function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t))},[]).slice();switch(t.type){case"FETCH_NOTES":return a=a.filter(function(e,t,a){return a.findIndex(function(t){return t.created_at===e.created_at&&t.id===e.id})===t}),[Object(p.a)({},e[e.length-1],{noteitems:a,loading:!1,fetching:!1})];case"SEARCH_NOTES":case"ORDER_NOTES":return[Object(p.a)({},e,t.notes,{loading:!1})];case"ADD_NOTE":return a.unshift(t.note),[Object(p.a)({},e[e.length-1],{noteitems:a,loading:!1})];case"UPDATE_NOTE":var n=e[t.index].noteitems[t.id].id,r=a.findIndex(function(e){return e.id===n}),o=a[r];return o.text=t.note.text,o.phone=t.note.phone,o.status=t.note.status,o.is_corporate=t.note.is_corporate,o.is_payed=t.note.is_payed,o.email=t.note.email,o.linkedin_profile=t.note.linkedin_profile,o.website=t.note.website,o.correspondence=t.note.correspondence,a.splice(r,1,o),[Object(p.a)({},e[e.length-1],{noteitems:a,loading:!1})];case"DELETE_NOTE":var l=e[t.id].noteitems[t.index].id,s=a.findIndex(function(e){return e.id===l});return a.splice(s,1),[Object(p.a)({},e[e.length-1],{noteitems:a,loading:!1,nextafterdelete:e[0].next,deleted:!0})]}return e},detail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,updated:!1,hasError:!1,errors:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DETAIL_NOTE":return Object(p.a)({},e,t.detail,{loading:!1,hasError:!1,errors:{}});case"UPDATE_DETAIL_NOTE":return Object(p.a)({},e,t.detail,{loading:!1,updated:!0,hasError:!1,errors:{}});case"ADD_DETAIL_NOTE":return Object(p.a)({},e,t.detail,{loading:!1,hasError:!1,errors:{}});case"INVESTOR_NOT_FOUND":return Object(p.a)({},e,{hasError:!0,errors:{page:"Investor not found"},loading:!1});case"AUTHENTICATION_ERROR":return Object(p.a)({},e,{hasError:!0,errors:{page:"Authentication Error"},loading:!1})}return e},lead:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{leads:"",loading:!0,loaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PAYMENTS_LEAD":return Object(p.a)({},e,{leads:Object(h.a)(t.leads),loading:!1,loaded:!0});case"LEAD_NOT_FOUND":return Object(p.a)({},e,{loading:!1,error:"Not found"})}return e},userdetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_DETAIL":return Object(p.a)({},e,t.userdetail,{hasError:!1,errors:{},loading:!1});case"USER_NOT_FOUND":return Object(p.a)({},e,{hasError:!0,errors:{page:"User not found"},loading:!1})}return e}});var v=function(e){var t=Object(d.createLogger)(),a=Object(i.a)(u.a,t);return Object(i.d)(a)(i.e)(b,e)}(),g=a(42),_=a.n(g),N=a(82),k="http://localhost:8000/",y=a(282).homepage,C={LOGIN:"".concat(k=y,"rest-auth/login/"),SIGNUP:"".concat(k,"rest-auth/registration/"),CHANGE_PASSWORD:"".concat(k,"rest-auth/password/change/"),RESET_PASSWORD:"".concat(k,"rest-auth/password/reset/"),RESET_PASSWORD_CONFIRM:"".concat(k,"rest-auth/password/reset/confirm/"),USER_ACTIVATION:"".concat(k,"rest-auth/registration/verify-email/"),USER_PROFILE:"".concat(k,"rest-auth/user/")};function w(e){return e.auth.token}var O=a(18);function j(e){return{type:E.LOGIN,payload:e}}function x(){return function(e){var t=w(v.getState());t&&_.a.get(C.USER_PROFILE,{headers:{authorization:"Token "+t}}).then(function(t){var a;e((a=t.data,{type:E.USER_PROFILE,payload:a}))}).catch(function(e){console.log(e);var t=S(e.response.data);throw new N.a(t)})}}function S(e){return Object.keys(e).reduce(function(t,a){return"non_field_errors"===a?t._error.push(e[a]):"token"===a?t._error.push("The link is not valid any more."):t[a]=e[a],t},{_error:[]})}var I=a(12),T=a(13),A=a(15),D=a(14),P=a(16),R=(a(289),a(359)),U=a(360),L=a(361),F=a(362),M=a(358),z=a(112),H=a.n(z),B=(a(290),function(){return r.a.createElement("div",{className:"loadscreen"},r.a.createElement("div",{className:"load-9"},r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bubble-1"}),r.a.createElement("div",{className:"bubble-2"}))))}),W=function(e){var t=e.objectclass;return r.a.createElement("div",{className:"".concat(t)},r.a.createElement("div",{className:"load-3"},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"line"})))},V=function(e){var t=e.input,a=e.label,n=e.type,o=e.meta,l=o.touched,s=o.error;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control"},t,{type:n}))),l&&s&&r.a.createElement("div",{className:"alert alert-danger p-1"},r.a.createElement("small",null,s)))},G=function(e){var t=e.input,a=e.label,n=e.type,o=e.meta,l=o.touched,s=o.error;return r.a.createElement("div",null,r.a.createElement("label",null,a),r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({className:"form-control"},t,{type:n}))),l&&s&&r.a.createElement("div",{className:"alert alert-danger p-1"},r.a.createElement("small",null,s)))},$=function(e){e&&("[]"!==JSON.stringify(e)?O.toast.error(e[0][0]):O.toast.error("Error..."))},Y=a(5),Z=a(6),q=function(e){var t=e.urltext,a=e.customclass,n=t.toLowerCase();return r.a.createElement(H.a,{key:"/".concat(n)},r.a.createElement(M.a,{className:"nav-link ".concat(a),to:{pathname:"/".concat(n),state:{fromDashboard:!1}}},t))},J=function(e){var t=e.urltext,a=e.customclass,n=e.user,o=t.toLowerCase();return r.a.createElement(H.a,{key:"/".concat(o)},r.a.createElement(M.a,{className:"nav-link ".concat(a),to:{pathname:"/".concat(o),state:{fromDashboard:!1}}},n?function(e){if(e)return r.a.createElement("div",{className:"user"},e.avatar?r.a.createElement("img",{src:"".concat(e.avatar),className:"user-avatar",alt:"Avatar"}):"",r.a.createElement("span",{className:"user-username"},e.username))}(n):r.a.createElement(W,{objectclass:"loaduser"})))},Q=function(){return r.a.createElement(M.a,{className:"btn btn-outline-info rounded-0 button-icon",role:"button",to:{pathname:"/investors",state:{fromDashboard:!1}}},r.a.createElement(Y.a,{icon:Z.i,color:"info"}))},K=function(){return r.a.createElement(M.a,{className:"navbar-brand",to:{pathname:"/",state:{fromDashboard:!1}}},"Lead Platform")},X=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!0},a.toggleNavbar=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserProfile()}},{key:"renderLinks",value:function(){if(this.props.authenticated){var e=this.props.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{navbar:!0,className:"navbar-links"},r.a.createElement(q,{urltext:"Investors",customclass:"nav-links__link"}),r.a.createElement(q,{urltext:"Payments",customclass:"nav-links__link"})),r.a.createElement(R.a,{navbar:!0,className:"navbar-profile"},r.a.createElement(J,{urltext:"profile",user:e,customclass:"nav-user"}),r.a.createElement(q,{urltext:"Logout",customclass:"nav-logout"})))}return r.a.createElement(R.a,{className:"ml-auto",navbar:!0},r.a.createElement(q,{urltext:"Login",customclass:"nav-links__link"}),r.a.createElement(q,{urltext:"SignUp",customclass:"nav-links__link"}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"content-navbar"},r.a.createElement(U.a,{color:"secondary",dark:!0,expand:"md"},r.a.createElement(K,null),r.a.createElement(L.a,{onClick:this.toggleNavbar}),r.a.createElement(F.a,{isOpen:!this.state.collapsed,navbar:!0},this.renderLinks())))}}]),t}(n.Component);var ee,te,ae=Object(s.b)(function(e){return{authenticated:e.auth.authenticated,user:e.auth.user}},function(e){return{getUserProfile:function(){return e(x())}}})(X),ne=a(382),re=a(383),oe=function(e){var t=function(t){function a(){return Object(I.a)(this,a),Object(A.a)(this,Object(D.a)(a).apply(this,arguments))}return Object(P.a)(a,t),Object(T.a)(a,[{key:"componentWillMount",value:function(){this.checkAuthentication(this.props)}},{key:"componentWillUpdate",value:function(e){this.checkAuthentication(e)}},{key:"checkAuthentication",value:function(e){e.authenticated||this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(n.Component);return Object(s.b)(function(e){var t=!1;return e.auth.user&&(e.auth.user.is_staff||e.auth.user.is_superuser)&&(t=!0),{authenticated:e.auth.authenticated,is_staff:t}})(t)},le=(a(299),function(e){var t=e.header;return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("h2",{className:"main-wrapper__text"},t),r.a.createElement("img",{className:"main-wrapper__image",src:"/static/bundles/building.jpeg",alt:"logo"}))}),se=function(){return r.a.createElement(le,{header:"Lead Platform based on DRF+React+Redux"})},ce=a(149),ie=a(150),ue=a(27),de=a(155),me=function(e){return e&&""!==e?void 0:"This field is required."},pe=(ee=15,function(e){return e&&e.length>ee?"Must be ".concat(ee," characters or less"):void 0}),he=(te=5,function(e){return e&&e.length<te?"Must be ".concat(te," characters or more"):void 0}),fe=function(e){return e&&!/^[a-zA-Z]+$/i.test(e)?"Must consists only letters":void 0},Ee=function(e){return e&&!/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:\/?#[\]@!$&'()*+,;=.]+$/.test(e)?'URL is not valid, your URL must be like "https://example.com/"':void 0},be=(function(e){}(18),function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0}),ve=(a(300),function(e){var t=e.choice,a=e.showHide;return r.a.createElement("span",{onClick:a,className:"password-show"},"input"===t?r.a.createElement(Y.a,{icon:Z.f,color:"secondary"}):r.a.createElement(Y.a,{icon:Z.e,color:"secondary"}))}),ge=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={type:"password"},a.showHide=function(e){e.preventDefault(),a.setState({type:"password"===a.state.type?"input":"password"})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error,n=e.invalid,o=e.pristine,l=e.submitting,s=this.state.type;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{header:""}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Please Log In"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"email",label:"Email",component:V,type:"text",validate:[be,me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ve,{showHide:this.showHide,choice:s}),r.a.createElement(ce.a,{name:"password",label:"Password",component:V,type:s,validate:[me]})),r.a.createElement("fieldset",{className:"form-group"},$(a),r.a.createElement("div",{className:"form-button"},r.a.createElement(M.a,{role:"button",to:"/signup",className:"btn btn-outline-secondary rounded-0 form-button__part"},"SignUp"),r.a.createElement(de.a,{action:"submit",color:"secondary",className:"rounded-0 form-button__part",disabled:n||o||l},"Login"))),r.a.createElement(M.a,{to:"/reset_password",className:"text-center info-link"},"forgot password?"))))}}]),t}(n.Component),_e=Object(ie.a)({form:"login",onSubmit:function(e,t,a){var n=C.LOGIN;return _.a.post(n,e).then(function(e){var n=e.data.key;t(j(n)),localStorage.setItem("token",n),a.history.push("/investors"),t(x())}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})},onChange:function(e,t,a){a.error&&t(Object(ue.a)("login"))}})(ge),Ne=Object(s.b)(null,{logoutUser:function(){return localStorage.removeItem("token"),localStorage.removeItem("csrftoken"),{type:E.LOGOUT}}})(function(e){var t=e.logoutUser;return Object(n.useEffect)(function(){t()},[]),r.a.createElement(le,{header:"Welcome to Lead Platform. Please Login or Signup..."})}),ke=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error,n=e.invalid,o=e.pristine,l=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{header:""}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Sign Up"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"email",label:"Email",component:V,type:"text",validate:[be,me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"username",label:"Username",component:V,type:"text",validate:[pe,he,me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"password1",label:"Password",component:V,type:"password",validate:[me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"password2",label:"Confirm Password",component:V,type:"password",validate:[me]})),$(a),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("div",{className:"form-button"},r.a.createElement(M.a,{role:"button",to:"/login",className:"btn btn-outline-secondary rounded-0 form-button__part"},"Login"),r.a.createElement(de.a,{action:"submit",color:"secondary",className:"rounded-0 form-button__part",disabled:n||o||l},"Sign Up"))))))}}]),t}(n.Component),ye=Object(ie.a)({form:"signup",validate:function(e){var t={};return e.password1!==e.password2&&(t.password2="Password does not match."),t},onChange:function(e,t,a){a.error&&t(Object(ue.a)("signup"))},onSubmit:function(e,t,a){var n=C.SIGNUP;return _.a.post(n,e).then(function(e){a.history.push("/signup_done")}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})}})(ke),Ce=function(){return r.a.createElement(le,{header:"Thanks for your registration, please follow the link sent to your provided email to activate your account."})},we=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Please click the button below to activate your account"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group text-center"},$(a),r.a.createElement("button",{action:"submit",className:"btn btn-info rounded-0"},"Activate"))))}}]),t}(n.Component),Oe=Object(ie.a)({form:"user_account_activation",onSubmit:function(e,t,a){var n=a.match.params.key,r=C.USER_ACTIVATION,o=Object.assign(e,{key:n});return _.a.post(r,o).then(function(e){O.toast.info("Your account has been activated successfully, please log in"),a.history.push("/login")}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})},onChange:function(e,t,a){a.error&&t(Object(ue.a)("user_account_activation"))}})(we),je=a(1),xe=a.n(je),Se=a(363),Ie=a(68),Te=a.n(Ie),Ae=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement(Te.a,{color:"info",outline:!0,className:"rounded-0 button-icon",role:"button",onClick:this.context.router.history.goBack},r.a.createElement(Y.a,{icon:Z.a,color:"secondary"}))}}]),t}(n.Component);Ae.contextTypes={router:xe.a.object};var De=function(){return r.a.createElement(Te.a,{color:"info",className:"rounded-0",type:"submit"},r.a.createElement(Y.a,{icon:Z.m,color:"secondary"}))},Pe=function(e){var t=e.onClear;return r.a.createElement(Te.a,{outline:!0,className:"rounded-0",type:"button",onClick:t},"Clear")},Re=function(e){var t=e.onEdit;return r.a.createElement(Te.a,{color:"info",outline:!0,className:"rounded-0 button-icon",type:"button",onClick:t},r.a.createElement(Y.a,{icon:Z.c,color:"secondary"}))},Ue=(a(338),function(e){return e?r.a.createElement("div",{className:"mx-2 mt-2"},r.a.createElement(Se.a,{className:"userprofile-header"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h2",null,e.first_name," ",e.last_name)),r.a.createElement("td",null,r.a.createElement(Ae,null),r.a.createElement(Q,null))))),r.a.createElement(Se.a,{className:"table-userprofile"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},r.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(e.avatar,")")}})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Profile:"),r.a.createElement("td",null,e.username)),r.a.createElement("tr",null,r.a.createElement("th",null,"Email:"),r.a.createElement("td",null,e.email)),r.a.createElement("tr",null,r.a.createElement("th",null,"Website:"),r.a.createElement("td",null,r.a.createElement("a",{className:"table-correspondence__url",href:"".concat(e.website)},e.website))),r.a.createElement("tr",null,r.a.createElement("th",null,"About:"),r.a.createElement("td",null,e.about))))):null}),Le=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){this.props.getUserProfile()}},{key:"renderUser",value:function(){var e=this.props.user;return e?r.a.createElement(Ue,e):null}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement("div",null,e?r.a.createElement(B,null):r.a.createElement("div",null,this.renderUser(),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("div",{className:"form-button"},r.a.createElement(M.a,{to:"/profile_edit",className:"btn btn-info rounded-0 form-button__part"},"Update Profile"),r.a.createElement(M.a,{to:"/change_password",className:"btn btn-outline-info rounded-0 form-button__part"},"Change Password")))))}}]),t}(n.Component);Le.contextTypes={router:xe.a.object};var Fe=Object(s.b)(function(e){return{user:e.auth.user,loading:e.auth.loading}},{getUserProfile:x})(Le),Me=(a(339),function(e){var t=e.errors;return r.a.createElement("div",{className:"error-page"},r.a.createElement("div",{className:"wrapper-error"},r.a.createElement("h1",null,"Error"),t?r.a.createElement("p",null,t):r.a.createElement("p",null,"Sorry, the page you are looking for doesn't exist."),r.a.createElement("h2",null,"Return to ",r.a.createElement(Q,null))),r.a.createElement("div",{className:"space"},r.a.createElement("div",{className:"blackhole"}),r.a.createElement(Y.a,{rotation:180,className:"ship",icon:Z.o,color:"info"})))}),ze=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(A.a)(this,Object(D.a)(t).call(this,e))).state={userdetail:{},loading:!0,hasError:!1},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.userdetail!==e.userdetail&&this.setState({userdetail:this.props.userdetail,loading:this.props.userdetail.loading,hasError:this.props.userdetail.hasError,errors:this.props.userdetail.errors})}},{key:"componentDidMount",value:function(){if(this.props.match){var e=this.props.match.params.id;this.setState({id:e}),this.props.fetchUserDetail(e)}}},{key:"renderNote",value:function(){var e=this.props.userdetail,t=this.state,a=t.hasError,n=t.errors;return a?r.a.createElement(Me,{errors:n&&n.page}):r.a.createElement(Ue,e)}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",null,e?r.a.createElement(B,null):this.renderNote())}}]),t}(n.Component),He=Object(s.b)(function(e){return{userdetail:e.userdetail}},function(e){return{fetchUserDetail:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/user/".concat(e,"/");return r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Server Error..."),console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"FETCH_USER_DETAIL",userdetail:e.data});if(401===e.status||403===e.status)throw O.toast.error("Authentication Error..."),t({type:"AUTHENTICATION_ERROR",userdetail:e.data}),e.data;if(404!==e.status)throw e.data;O.toast.error("User is not found..."),t({type:"USER_NOT_FOUND"})}).catch(function(e){console.log("error",e)})}}(t))}}})(ze),Be=a(86),We=(a(340),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={attached:!1},a.handleDrop=function(e){a.setState({attached:!0})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.input.onChange,o=t.meta,l=o.error,s=o.touched,c=t.label,i=t.classNameLabel,u=t.name,d=t.cbFunction,m="dropimage-field dropimage-field__default avatar",p="";return this.props.input.value&&this.state.attached?(m="dropimage-field dropimage-field__success",p="Press Save to Add"):m="dropimage-field dropimage-field__default avatar",r.a.createElement("div",{className:"".concat(a)+(l&&s?" has-error ":"")},c&&r.a.createElement("p",{className:i||""},c),r.a.createElement(Be.a,{onDrop:function(t){return d(t),e.handleDrop(t),n(t[0])},name:u,maxSize:1e6},function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("div",Object.assign({},a(),{className:"".concat(m),style:{backgroundImage:"url(".concat(e.props.input.value,")")}}),r.a.createElement("input",n()),r.a.createElement("span",{className:"dropimage-field__text"},"".concat(p)))}),l&&s?r.a.createElement("div",{className:"alert alert-danger p-1"},r.a.createElement("small",null,l)):"")}}]),t}(n.Component));We.defaultProps={className:"",cbFunction:function(){}};var Ve=function(e){return r.a.createElement(ce.a,Object.assign({},e,{component:We}))},Ge=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error,n=e.invalid,o=e.pristine,l=e.submitting;return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Edit Profile"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"username",label:"Username",component:V,type:"text",validate:[pe,he,me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"first_name",label:"First Name",component:V,type:"text",validate:[pe,fe]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"last_name",label:"Last Name",component:V,type:"text",validate:[pe,fe]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"website",label:"Website",component:V,type:"text",validate:[Ee]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"about",label:"About Yourself",component:G,type:"text"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(Ve,{name:"avatar",label:"Avatar:",classNameLabel:"file-input-label",className:"file-input",dropzone_options:{multiple:!1,accept:"image/*"}},r.a.createElement("span",null,"Add more"))),r.a.createElement("fieldset",{className:"form-group"},$(a),r.a.createElement("div",{className:"form-button"},r.a.createElement(M.a,{to:"/profile",className:"btn btn-outline-info rounded-0 form-button__part"},"Cancel"),r.a.createElement("button",{action:"submit",className:"btn btn-info rounded-0 form-button__part",disabled:n||o||l},"Save")))))}}]),t}(n.Component);var $e=Object(s.b)(function(e){return{initialValues:e.auth.user}})(Object(ie.a)({form:"update_user_profile",onChange:function(e,t,a){a.error&&t(Object(ue.a)("update_user_profile"))},onSubmit:function(e,t,a){var n=w(v.getState()),r=e,o=new FormData;return"string"===typeof e.avatar||e.avatar instanceof String||null===e.avatar?Object.keys(r).forEach(function(e){return"avatar"!==e&&o.append(e,r[e])}):Object.keys(r).forEach(function(e){return o.append(e,r[e])}),_.a.patch(C.USER_PROFILE,o,{headers:{"Content-Type":"multipart/form-data",authorization:"Token "+n}}).then(function(e){O.toast.info("Your profile has been updated successfully"),a.history.push("/profile")}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})}})(Ge)),Ye=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error,n=e.pristine,o=e.invalid,l=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{header:""}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Change Password"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"old_password",label:"Old Password",component:V,type:"password",validate:[me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"new_password1",label:"New Password",component:V,type:"password",validate:[me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"new_password2",label:"Confirm New Password",component:V,type:"password",validate:[me]})),r.a.createElement("fieldset",{className:"form-group"},$(a),r.a.createElement("div",{className:"form-button"},r.a.createElement(M.a,{to:"/profile",className:"btn btn-outline-secondary rounded-0 form-button__part"},"Cancel"),r.a.createElement(de.a,{action:"submit",color:"secondary",className:"rounded-0 form-button__part",disabled:o||n||l},"Submit"))))))}}]),t}(n.Component),Ze=Object(ie.a)({form:"change_password",onSubmit:function(e,t,a){var n=C.CHANGE_PASSWORD,r=w(v.getState());if(r)return _.a.post(n,e,{headers:{authorization:"Token "+r}}).then(function(e){O.toast.info("Password has been changed successfully"),a.history.push("/profile")}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})},onChange:function(e,t,a){a.error&&t(Object(ue.a)("change_password"))},validate:function(e){var t={};return e.new_password1!==e.new_password2&&(t.new_password2="Password does not match."),t}})(Ye),qe=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error,n=e.pristine,o=e.invalid,l=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{header:""}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Reset Your Password"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"email",label:"Please enter your email",component:V,type:"text",validate:[be,me]})),r.a.createElement("fieldset",{className:"form-group text-center"},$(a),r.a.createElement("button",{action:"submit",className:"btn btn-secondary rounded-0",disabled:o||n||l},"Submit")))))}}]),t}(n.Component),Je=Object(ie.a)({form:"password_reset",onChange:function(e,t,a){a.error&&t(Object(ue.a)("password_reset"))},onSubmit:function(e,t,a){var n=C.RESET_PASSWORD;return _.a.post(n,e).then(function(e){a.history.push("/reset_password_done")}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})}})(qe),Qe=function(){return r.a.createElement(le,{header:"An password reset email has been sent to your email. Please follow the link to reset your password."})},Ke=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.error,n=e.invalid,o=e.pristine,l=e.submitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{header:""}),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{className:"col col-sm-4 card mt-5 p-2",onSubmit:t},r.a.createElement("h4",{className:"text-md-center"},"Create New Password"),r.a.createElement("hr",null),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"new_password1",label:"New Password",component:V,type:"password",validate:[me]})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement(ce.a,{name:"new_password2",label:"Confirm New Password",component:V,type:"password",validate:[me]})),r.a.createElement("fieldset",{className:"form-group text-center"},$(a),r.a.createElement("button",{action:"submit",className:"btn btn-info rounded-0",disabled:n||o||l},"Submit")))))}}]),t}(n.Component),Xe=Object(ie.a)({form:"password_reset_confirm",onSubmit:function(e,t,a){var n=a.match.params,r=n.uid,o=n.token,l=C.RESET_PASSWORD_CONFIRM,s=Object.assign(e,{uid:r,token:o});return _.a.post(l,s).then(function(e){O.toast.info("Password has been reset successfully, please log in"),a.history.push("/login")}).catch(function(e){var t=S(e.response.data);throw new N.a(t)})},onChange:function(e,t,a){a.error&&t(Object(ue.a)("password_reset_confirm"))},validate:function(e){var t={};return e.new_password1!==e.new_password2&&(t.new_password2="Password does not match."),t}})(Ke),et=a(38),tt=a(381),at=a(375),nt=a(364),rt=a(365),ot=a(366),lt=a(367),st=a(376),ct=a(370),it=function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/";void 0!==e&&null!==e&&(o=e),r&&(n.Authorization="Token ".concat(r));var l=a().notes;return fetch(o,{headers:n}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Error! Can't load investors..."),console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"FETCH_NOTES",notes:l.push(e.data),loading:!1});if(401===e.status||403===e.status)throw O.toast.error("Authetication error..."),t({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}},ut=(a(341),function(e){var t=e.onSelectForDelete,a=e.modaldelete,n=e.text,o=e.index,l=e.id,s=e.toggle;return r.a.createElement("div",null,r.a.createElement(tt.a,{isOpen:a,toggle:s},r.a.createElement(nt.a,{color:"info"},"Are you sure?"),r.a.createElement(rt.a,null,"Delete ",r.a.createElement("b",null,n)," Investor?"),r.a.createElement(ot.a,null,r.a.createElement(lt.a,{row:!0},r.a.createElement(de.a,{className:"rounded-0",color:"info",onClick:function(){return t(o,l)}},r.a.createElement(Y.a,{icon:Z.q,color:"white"})),r.a.createElement(de.a,{className:"rounded-0",onClick:s},"Cancel")))))}),dt=a(368),mt=a(369),pt=function(e){var t=e.onInputChange,a=e.text,n=e.errors;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Name ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(mt.a,{name:"text",value:a||"",placeholder:"Enter name...",onChange:t,required:!0}),n.text?r.a.createElement(ct.a,{color:"danger"},n.text):""))},ht=function(e){var t=e.onInputChange,a=e.phone,n=e.errors;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Phone ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(mt.a,{name:"phone",value:a||"",placeholder:"Enter phone...",onChange:t,required:!0}),n.phone?r.a.createElement(ct.a,{color:"danger"},n.phone):""))},ft=function(e){var t=e.onInputChange,a=e.email,n=e.errors;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Email ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(mt.a,{name:"email",value:a||"",placeholder:"Enter email...",onChange:t,required:!0}),n.email?r.a.createElement(ct.a,{color:"danger"},n.email):""))},Et=function(e){var t=e.onInputChange,a=e.linkedin_profile,n=e.errors;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Linkedin ",r.a.createElement("span",{className:"text-danger"},"*")),r.a.createElement(mt.a,{name:"linkedin_profile",value:a||"",placeholder:"Enter linkedin url...",onChange:t,required:!0}),n.linkedin_profile?r.a.createElement(ct.a,{color:"danger"},n.linkedin_profile):""))},bt=function(e){var t=e.onInputChange,a=e.website,n=e.errors;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Website"),r.a.createElement(mt.a,{name:"website",value:a||"",placeholder:"Enter website url...",onChange:t}),n.website?r.a.createElement(ct.a,{color:"danger"},n.website):""))},vt=function(e){var t=e.onInputChange,a=e.correspondence,n=e.errors;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Correspondence"),r.a.createElement(mt.a,{name:"correspondence",value:a||"",placeholder:"Enter correspondence...",onChange:t,type:"textarea"}),n.correspondence?r.a.createElement(ct.a,{color:"danger"},n.correspondence):""))},gt=function(e){var t=e.handleCheckboxIsCorpBtnClick,a=e.is_corporate;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Individual ",r.a.createElement(Y.a,{icon:Z.k,color:a?"grey":"black"})," / Corporate ",r.a.createElement(Y.a,{icon:Z.r,color:a?"black":"grey"})),r.a.createElement(de.a,{className:"btn btn-block",onClick:t,active:a},a?"Change to Individual":"Change to Corporate")))},_t=function(e){var t=e.handleCheckboxIsPayBtnClick,a=e.status,n=e.is_staff,o=e.is_payed;return r.a.createElement("div",null,"Candidate"!==a&&n?r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"New ",r.a.createElement(Y.a,{icon:Z.h,color:o?"grey":"black"})," / Payed ",r.a.createElement(Y.a,{icon:Z.b,color:o?"black":"grey"})),r.a.createElement(de.a,{className:"btn btn-block",onClick:t,active:o},o?"Change to New":"Change to Payed")):null)},Nt=a(371),kt=a(372),yt=a(373),Ct=a(374),wt=function(e){var t=e.onToggle,a=e.onChangeValue,n=e.status,o=e.dropdownOpen;return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Status"),r.a.createElement(Nt.a,{className:"form-group",isOpen:o,toggle:t},r.a.createElement(kt.a,{className:"btn-block",caret:!0},n||""),r.a.createElement(yt.a,{className:"btn-block"},r.a.createElement(Ct.a,{onClick:a},"Candidate"),r.a.createElement(Ct.a,{onClick:a},"Processed"),r.a.createElement(Ct.a,{onClick:a},"Converted"),r.a.createElement(Ct.a,{onClick:a},"Rejected")))))},Ot=function(e){var t=e.onInputChange,a=e.handleCheckboxIsCorpBtnClick,n=e.onChangeValue,o=e.onToggle,l=e.handleCheckboxIsPayBtnClick,s=e.text,c=e.phone,i=e.email,u=e.linkedin_profile,d=e.website,m=e.correspondence,p=e.is_corporate,h=e.is_staff,f=e.is_payed,E=e.dropdownOpen,b=e.status,v=e.updateNoteId,g=e.errors;return r.a.createElement("div",null,r.a.createElement(pt,{onInputChange:t,text:s,errors:g}),r.a.createElement(ht,{onInputChange:t,phone:c,errors:g}),r.a.createElement(ft,{onInputChange:t,email:i,errors:g}),r.a.createElement(Et,{onInputChange:t,linkedin_profile:u,errors:g}),r.a.createElement(bt,{onInputChange:t,website:d,errors:g}),r.a.createElement(vt,{onInputChange:t,correspondence:m,errors:g}),r.a.createElement(gt,{handleCheckboxIsCorpBtnClick:a,is_corporate:p}),null!==v?r.a.createElement(wt,{onChangeValue:n,onToggle:o,status:b,dropdownOpen:E}):null,null!==v&&"Candidate"!==b&&h?r.a.createElement(_t,{handleCheckboxIsPayBtnClick:l,status:b,is_staff:h,is_payed:f}):null)},jt=a(69),xt=(a(342),function(e){var t=e.onOrderNotes,a=e.searchingProp,o=e.mountedProp,l=Object(n.useState)([]),s=Object(jt.a)(l,2),c=s[0],i=s[1],u=Object(n.useState)(!1),d=Object(jt.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),E=Object(jt.a)(f,2),b=E[0],v=E[1],g=Object(n.useState)(o),_=Object(jt.a)(g,2),N=_[0],k=_[1],y=function(e){var t=Object(h.a)(c),a="-"+e,n=!1;if("C"===e.charAt(0)){var r=t.indexOf(e.slice(1,e.length));-1!==r&&t.splice(r,1)}else if(t.includes(e)){var o=t.indexOf(e);-1!==o&&(t.splice(o,1),t.splice(o,0,a))}else if(t.includes(a)){var l=t.indexOf(a);-1!==l&&(t.splice(l,1),t.splice(l,0,e))}else t.push(e);if(t.length>0&&(n=!0),t.includes("-owner")&&1===t.length)t.push("-id");else{var s=t.indexOf("-id");-1!==s&&t.splice(s,1)}i(t),p(n),v(!1),k(!1)};return Object(n.useEffect)(function(){a&&(v(a),i([]),p(!1))},[a]),Object(n.useEffect)(function(){o&&k(o)},[o]),Object(n.useEffect)(function(){b||N||t({order:c,is_ordering_name:m,searchtext:"",searching:!1,mounted:!1})},[c,m,b,N]),r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"table-num__title"},"#"),r.a.createElement("th",{className:"table-investor__title"},r.a.createElement(Y.a,{icon:Z.k,color:"black"})," / ",r.a.createElement(Y.a,{icon:Z.r,color:"black"})),r.a.createElement("th",null,r.a.createElement("div",{className:"table-investor__ordering"},r.a.createElement("span",null,"Name "),r.a.createElement("div",{className:"table-investor__ordering--control"},r.a.createElement(de.a,{color:"link",onClick:function(){return y("text")}},c.includes("text")&&!b?r.a.createElement(Y.a,{icon:Z.j,color:"black"}):c.includes("-text")&&!b?r.a.createElement(Y.a,{rotation:180,icon:Z.j,color:"black"}):r.a.createElement(Y.a,{rotation:90,icon:Z.d,color:"grey"})),c.includes("text")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("Ctext")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):c.includes("-text")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("C-text")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):""))),r.a.createElement("th",null,r.a.createElement("div",{className:"table-investor__ordering"},r.a.createElement("span",null,"Dev "),r.a.createElement("div",{className:"table-investor__ordering--control"},r.a.createElement(de.a,{color:"link",onClick:function(){return y("owner")}},c.includes("owner")&&!b?r.a.createElement(Y.a,{icon:Z.j,color:"black"}):c.includes("-owner")&&!b?r.a.createElement(Y.a,{rotation:180,icon:Z.j,color:"black"}):r.a.createElement(Y.a,{rotation:90,icon:Z.d,color:"grey"})),c.includes("owner")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("Cowner")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):c.includes("-owner")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("C-owner")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):""))),r.a.createElement("th",{className:"table-phone__title"},"Phone"),r.a.createElement("th",null,r.a.createElement("div",{className:"table-investor__ordering"},r.a.createElement("span",null,"Status "),r.a.createElement("div",{className:"table-investor__ordering--control"},r.a.createElement(de.a,{color:"link",onClick:function(){return y("status")}},c.includes("status")&&!b?r.a.createElement(Y.a,{icon:Z.j,color:"black"}):c.includes("-status")&&!b?r.a.createElement(Y.a,{rotation:180,icon:Z.j,color:"black"}):r.a.createElement(Y.a,{rotation:90,icon:Z.d,color:"grey"})),c.includes("status")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("Cstatus")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):c.includes("-status")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("C-status")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):""))),r.a.createElement("th",null,r.a.createElement("div",{className:"table-investor__ordering "},r.a.createElement("span",{className:"table-investor__ordering--payment"},"Payment "),r.a.createElement("div",{className:"table-investor__ordering--control"},r.a.createElement(de.a,{color:"link",onClick:function(){return y("is_payed")}},c.includes("is_payed")&&!b?r.a.createElement(Y.a,{icon:Z.j,color:"black"}):c.includes("-is_payed")&&!b?r.a.createElement(Y.a,{rotation:180,icon:Z.j,color:"black"}):r.a.createElement(Y.a,{rotation:90,icon:Z.d,color:"grey"})),c.includes("is_payed")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("Cis_payed")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):c.includes("-is_payed")&&!b?r.a.createElement(de.a,{color:"link",className:"btn-sort__clear",onClick:function(){return y("C-is_payed")}},r.a.createElement(Y.a,{icon:Z.p,color:"black"})):""))),r.a.createElement("th",null,"Manage")))}),St=(a(343),function(e){var t=e.onSelectForEdit,a=e.onToggleModalDelete,n=e.post,o=e.index;return r.a.createElement("tbody",{key:o},void 0!==n.noteitems&&n.noteitems.length>0?n.noteitems.map(function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("th",{scope:"row",className:"table-num__text"},n+1),r.a.createElement("td",{className:"table-investor__text"},e.is_corporate?r.a.createElement(Y.a,{icon:Z.r,color:"black"}):r.a.createElement(Y.a,{icon:Z.k,color:"black"})),r.a.createElement("td",null,r.a.createElement(M.a,{className:"info-link",to:{pathname:"/investors/".concat(e.id),state:{fromDashboard:!1,prevLink:window.location.pathname}}},e.text)),r.a.createElement("td",null,r.a.createElement(M.a,{className:"info-link",to:{pathname:"/profile/".concat(e.owner),state:{fromDashboard:!1,prevLink:window.location.pathname}}},e.owner_username)),r.a.createElement("td",{className:"table-phone__text"},e.phone),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.is_payed?r.a.createElement(Y.a,{icon:Z.b,color:"black"}):r.a.createElement(Y.a,{icon:Z.h,color:"black"})),r.a.createElement("td",null,r.a.createElement(de.a,{className:"rounded-0",color:"info",title:"edit",onClick:function(){return t(o,n)}},r.a.createElement(Y.a,{icon:Z.c})),r.a.createElement(de.a,{className:"rounded-0",color:"secondary",onClick:function(){return a(o,n)},title:"delete"},r.a.createElement(Y.a,{icon:Z.q}))))}):null)}),It=function(e){var t={};if(""===e.text.trim()?t.text="Cannot be empty":"undefined"!==typeof e.text&&(e.text.match(/^[a-zA-Z]+$/)?e.text.length>15&&(t.text="Your name is too long"):t.text="Name must be only letters"),""===e.phone.trim()?t.phone="Phone cannot be empty":"undefined"!==typeof e.phone&&(e.phone.match(/^[0-9\-\\+]{9,15}$/)||(t.phone="Not phone number")),""===e.email.trim())t.email="Cannot be empty";else if("undefined"!==typeof e.email){var a=e.email.lastIndexOf("@"),n=e.email.lastIndexOf(".");a<n&&a>0&&-1===e.email.indexOf("@@")&&n>2&&e.email.length-n>2||(t.email="Email is not valid")}if(""===e.linkedin_profile.trim())t.linkedin_profile="Cannot be empty";else if("undefined"!==typeof e.linkedin_profile){/^((https?|ftp|smtp):\/\/)+(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9-_#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/.test(e.linkedin_profile)||(t.linkedin_profile="Not Linkedin URL")}if(""===e.website.trim());else if("undefined"!==typeof e.website){/^((https?|ftp|smtp):\/\/)+(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)?$/.test(e.website)||(t.website="URL is not valid")}return t},Tt=(a(344),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",phone:"",status:"Candidate",email:"",linkedin_profile:"",website:"",correspondence:"",is_corporate:!1,is_payed:!1,searchtext:"",updateNoteId:null,updateNoteIndex:null,dropdownOpen:!1,is_ordering_name:!1,modal:!1,modaldelete:!1,mounted:!1,is_staff:!1,loading:!0,fetching:!0,nextafterdelete:"",deleted:!1,order:[],errors:{},notes:[{count:null,next:null,previous:null,noteitems:[]}]},a.resetForm=function(){a.setState({text:"",phone:"",email:"",errors:{},updateNoteId:null,status:"Candidate",is_corporate:!1,is_payed:!1,linkedin_profile:"",website:"",correspondence:""})},a.addNew=function(){a.setState({text:"",phone:"",email:"",errors:{},updateNoteId:null,status:"Candidate",is_corporate:!1,is_payed:!1,linkedin_profile:"",website:"",modal:!0,correspondence:""})},a.resetSearch=function(){a.state.searching&&(a.props.searchNotes(""),a.setState({is_ordering_name:!1,order:[],searching:!1})),a.setState({searchtext:""})},a.selectForEdit=function(e,t){var n=a.props.notes[e].noteitems[t];a.setState({text:n.text,phone:n.phone,status:n.status,is_payed:n.is_payed,is_corporate:n.is_corporate,email:n.email,linkedin_profile:n.linkedin_profile,website:n.website,correspondence:n.correspondence,updateNoteId:t,updateNoteIndex:e,modal:!0})},a.selectForDelete=function(e,t){a.props.deleteNote(e,t),a.setState({modaldelete:!1})},a.toggle=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.toggleModal=function(){a.setState(function(e){return{modal:!e.modal}})},a.toggleModalDelete=function(e,t){var n="";void 0!==t&&(n=a.props.notes[e].noteitems[t].text),a.setState(function(a){return{modaldelete:!a.modaldelete,index:e,id:t,text:n}})},a.handleChange=function(e){var t;e.preventDefault();var n=e.target.name,r=e.target.value;a.setState((t={},Object(et.a)(t,n,r),Object(et.a)(t,"errors",{}),t))},a.changeValue=function(e){a.setState({status:e.currentTarget.textContent})},a.loadMorePosts=function(){var e=a.props.notes[a.props.notes.length-1].next;a.setState({fetching:!0}),a.state.nextafterdelete?(a.props.fetchNotes(a.state.nextafterdelete),a.setState({nextafterdelete:""})):null===e&&void 0===e||a.props.fetchNotes(e)},a.searchNotes=function(){var e=a.state.searchtext;null===e&&void 0===e||(a.props.searchNotes(e),a.setState({is_ordering_name:!1,order:[],searching:!0}))},a.onCheckboxIsCorpBtnClick=function(){a.setState({is_corporate:!a.state.is_corporate})},a.onCheckboxIsPayBtnClick=function(){a.setState({is_payed:!a.state.is_payed})},a.onOrderNotes=function(e){if(e&&e.order.length){var t=e.order.map(function(e){return e}).join(",");a.setState(Object(p.a)({},e)),a.props.orderNotes(t)}else a.props.orderNotes("")},a.submitNote=function(e){e.preventDefault();var t=It(a.state);0===Object.keys(t).length?null===a.state.updateNoteId?a.props.addNote(a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.is_payed,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence).then(a.resetForm).then(a.toggleModal).catch(function(e){console.log("error",e)}):a.props.updateNote(a.state.updateNoteIndex,a.state.updateNoteId,a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.is_payed,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence).then(a.resetForm).then(a.toggleModal).catch(function(e){console.log("error",e)}):a.setState({errors:t})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;Array.isArray(this.props.notes[0].noteitems)&&this.props.notes[0].noteitems.length?this.setState({mounted:!0},function(){e.props.orderNotes("")}):this.props.fetchNotes()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.notes!==e.notes){this.setState({loading:this.props.notes[0].loading,fetching:this.props.notes[0].fetching});var a="";if(this.props.notes[0].deleted&&this.props.notes[0].next){a=this.props.notes[0].next;var n=parseInt(a.slice(-1),10);n-1>=2&&(a=a.slice(0,-1)+(n-1)),this.setState({nextafterdelete:a,deleted:!1})}}}},{key:"renderModal",value:function(){var e=this.state,t=e.modal,a=e.text,n=e.phone,o=e.email,l=e.linkedin_profile,s=e.website,c=e.correspondence,i=e.is_corporate,u=e.status,d=e.is_payed,m=e.dropdownOpen,p=e.updateNoteId,h=e.errors,f=this.props.is_staff;if(this.state.modal)return r.a.createElement(tt.a,{isOpen:t,toggle:this.toggleModal},r.a.createElement(at.a,{onSubmit:this.submitNote},r.a.createElement(nt.a,{toggle:this.toggleModal},null===p?"New Investor":"Edit Investor"),r.a.createElement(rt.a,null,r.a.createElement(Ot,{onInputChange:this.handleChange,handleCheckboxIsCorpBtnClick:this.onCheckboxIsCorpBtnClick,handleCheckboxIsPayBtnClick:this.onCheckboxIsPayBtnClick,onToggle:this.toggle,onChangeValue:this.changeValue,text:a,phone:n,email:o,linkedin_profile:l,website:s,correspondence:c,is_corporate:i,is_staff:f,status:u,is_payed:d,dropdownOpen:m,updateNoteId:p,errors:h})),r.a.createElement(ot.a,null,r.a.createElement(lt.a,{row:!0},r.a.createElement(de.a,{className:"rounded-0",color:"info",type:"submit"},r.a.createElement(Y.a,{icon:Z.m,color:"white"})),null===p?r.a.createElement(de.a,{className:"rounded-0",outline:!0,onClick:this.resetForm},"Clear"):null,r.a.createElement(de.a,{className:"rounded-0",onClick:this.toggleModal},"Cancel")))))}},{key:"renderNotes",value:function(){var e=this,t=this.props.notes,a=this.state,n=a.errors,o=a.modal,l=a.searchtext,s=a.modaldelete,c=a.index,i=a.id,u=a.mounted,d=a.text,m=a.fetching,p=a.searching,h=this.props.notes[this.props.notes.length-1].next;return r.a.createElement("div",null,r.a.createElement("div",{className:"centering notes-header mt-2"},r.a.createElement("div",{className:"centering-left"},r.a.createElement(de.a,{className:"rounded-0",color:"info",onClick:this.addNew},r.a.createElement(Y.a,{icon:Z.l,color:"white"}),r.a.createElement("span",{className:"btn-quick__text"}," Quick Add"))),r.a.createElement("div",{className:"centering-center"},o?this.renderModal():null,s?r.a.createElement(ut,{modaldelete:s,index:c,id:i,text:d,toggle:this.toggleModalDelete,onSelectForDelete:this.selectForDelete}):null,r.a.createElement(lt.a,{row:!0},r.a.createElement(st.a,{inline:!0,id:"searchtext",type:"text",name:"searchtext",value:l||"",placeholder:"Search by Name...",onChange:this.handleChange}),n.searchtext?r.a.createElement(ct.a,{color:"danger"},n.searchtext):"",r.a.createElement(de.a,{className:"rounded-0",onClick:this.searchNotes},r.a.createElement(Y.a,{icon:Z.n,color:"white"})),""!==l?r.a.createElement(de.a,{outline:!0,className:"rounded-0 btn-sort__clear",onClick:this.resetSearch},r.a.createElement(Y.a,{rotation:90,icon:Z.p})):null)),r.a.createElement("div",{className:"centering-right"},r.a.createElement(M.a,{to:"/investors/add"},r.a.createElement(de.a,{className:"rounded-0 btn-add",color:"info"},"Add New")))),r.a.createElement("div",{className:"centering"},r.a.createElement("div",{className:"centering-left"}),r.a.createElement("h3",{className:"centering-center"},"Leads"),r.a.createElement("div",{className:"centering-right centering-right__tablepreffix"})),r.a.createElement(Se.a,{className:"table text-center table-investors",striped:!0},r.a.createElement(xt,{onOrderNotes:this.onOrderNotes,searchingProp:p,mountedProp:u}),void 0!==t?t.map(function(t,a){return r.a.createElement(St,{post:t,key:"".concat(a),index:a,onSelectForEdit:e.selectForEdit,onToggleModalDelete:e.toggleModalDelete})}):null),r.a.createElement("div",{className:"text-center"},null===h||m?"":r.a.createElement(de.a,{className:"rounded-0",onClick:this.loadMorePosts},"Load more"),m&&r.a.createElement(W,{objectclass:"loadnotes"})))}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",null,e?r.a.createElement(B,null):this.renderNotes())}}]),t}(n.Component)),At=Object(s.b)(function(e){return{notes:e.notes,deleted:e.deleted}},function(e){return{fetchNotes:function(t){e(it(t))},addNote:function(t,a,n,r,o,l,s,c,i){return e(function(e,t,a,n,r,o,l,s,c){return function(i,u){var d={"Content-Type":"application/json"},m=u().auth.token;m&&(d.Authorization="Token ".concat(m));var p=JSON.stringify({text:e,phone:t,status:a,is_corporate:n,is_payed:r,email:o,linkedin_profile:l,website:s,correspondence:c});return fetch("/api/investors/",{headers:d,method:"POST",body:p}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Error! Can't load investors..."),console.log("Server Error!"),e}).then(function(e){if(201===e.status)return O.toast.info("Investor "+e.data.text+" added"),i({type:"ADD_NOTE",note:e.data});if(401===e.status||403===e.status)throw O.toast.error("Authetication error..."),i({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t,a,n,r,o,l,s,c,i))},updateNote:function(t,a,n,r,o,l,s,c,i,u,d){return e(function(e,t,a,n,r,o,l,s,c,i,u){return function(d,m){var p={"Content-Type":"application/json"},h=m().auth.token;h&&(p.Authorization="Token ".concat(h));var f=JSON.stringify({text:a,phone:n,status:r,is_corporate:o,is_payed:l,email:s,linkedin_profile:c,website:i,correspondence:u}),E=m().notes[e].noteitems[t].id;return fetch("/api/investors/".concat(E,"/"),{headers:p,method:"PUT",body:f}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Error! Can't load investors..."),console.log("Server Error!"),e}).then(function(a){if(200===a.status)return O.toast.info("Investor "+a.data.text+" edited"),d({type:"UPDATE_NOTE",note:a.data,index:e,id:t});if(401===a.status||403===a.status)throw O.toast.error("Authetication error..."),d({type:"AUTHENTICATION_ERROR",data:a.data}),a.data})}}(t,a,n,r,o,l,s,c,i,u,d))},deleteNote:function(t,a){e(function(e,t){return function(a,n){var r={"Content-Type":"application/json"},o=n().auth.token;o&&(r.Authorization="Token ".concat(o));var l=n().notes[e].noteitems[t].id;return fetch("/api/investors/".concat(l,"/"),{headers:r,method:"DELETE"}).then(function(e){if(204===e.status)return O.toast.info("Investor deleted"),{status:e.status,data:{}};if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(n){if(204===n.status)return a({type:"DELETE_NOTE",id:e,index:t});if(401===n.status||403===n.status)throw O.toast.error("Authetication error..."),a({type:"AUTHENTICATION_ERROR",data:n.data}),n.data}).then(function(e){a(it())})}}(t,a))},searchNotes:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/";return void 0!==e&&null!==e&&(o="/api/investors/?search=".concat(e)),r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n,method:"GET"}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Error! Can't load investors..."),console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"SEARCH_NOTES",notes:e.data});if(401===e.status||403===e.status)throw O.toast.error("Authetication error..."),t({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t))},orderNotes:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/";return void 0!==e&&null!==e&&(o="/api/investors/?ordering=".concat(e)),r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n,method:"GET"}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Error! Can't load investors..."),console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"ORDER_NOTES",notes:e.data});if(401===e.status||403===e.status)throw O.toast.error("Authetication error..."),t({type:"AUTHENTICATION_ERROR",data:e.data}),e.data})}}(t))}}})(Tt),Dt=a(377),Pt=a(378),Rt=a(31),Ut=a.n(Rt),Lt=a(163),Ft=(a(349),a(350),function(e){var t=e.handleChangeDate,a=e.handleAddCallClick,n=e.handleResetCallClick,o=e.last_call,l=Ut()(o).isValid();return r.a.createElement("div",null,r.a.createElement(lt.a,null,r.a.createElement(dt.a,null,"Last Call ",l?r.a.createElement(de.a,{className:"btn",onClick:n},"Reset"):""),l?r.a.createElement("div",null,r.a.createElement(Lt.a,{selected:l&&Ut()(o,Ut.a.defaultFormat).toDate(),onChange:function(e){t(e?Ut()(e,Ut.a.defaultFormat).toDate():null)},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"d MMMM yyyy HH:mm",timeCaption:"time"})):r.a.createElement(de.a,{className:"btn btn-block",onClick:a},"Add Last Call")))}),Mt=(a(351),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).onDrop=function(e,t){a.props.onSelectDrop(e)},a.dropProperties=function(e,t){var a,n;return e?t&&e===t?(a="dropzone-field dropzone-field__default",n="  Replace Document"):(a="dropzone-field dropzone-field__success",n="  Save to Attach"):(a="dropzone-field dropzone-field__default",n="  Add Document"),{drop_class:a,drop_text:n}},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.documents,a=e.detail,n=this.dropProperties(t,a);return r.a.createElement("div",null,"Documents:",r.a.createElement("span",{className:"document-title"},"null"!==a?" ("+a.split("/").slice(-1)[0]+")":""),r.a.createElement(Be.a,{onDrop:this.onDrop,multiple:!1,maxSize:1e7},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t(),{className:"".concat(n.drop_class)}),r.a.createElement("input",a()),r.a.createElement("div",null,r.a.createElement(Y.a,{icon:Z.g,color:"white"}),r.a.createElement("span",{className:"dropzone-field__text"},"".concat(n.drop_text))))}),"\ufeff")}}]),t}(n.Component)),zt=function(e){var t=e.onInputChange,a=e.handleCheckboxIsPayBtnClick,n=e.handleCheckboxIsCorpBtnClick,o=e.onChangeValue,l=e.onToggle,s=e.handleChangeDate,c=e.handleResetCallClick,i=e.handleAddCallClick,u=e.onSelectDrop,d=e.text,m=e.phone,p=e.email,h=e.linkedin_profile,f=e.website,E=e.correspondence,b=e.is_corporate,v=e.status,g=e.dropdownOpen,_=e.is_payed,N=e.is_staff,k=e.add_call,y=e.last_call,C=e.documents,w=e.detail,O=e.errors;return r.a.createElement("div",null,r.a.createElement(pt,{onInputChange:t,text:d,errors:O}),r.a.createElement(ht,{onInputChange:t,phone:m,errors:O}),r.a.createElement(ft,{onInputChange:t,email:p,errors:O}),r.a.createElement(Et,{onInputChange:t,linkedin_profile:h,errors:O}),r.a.createElement(bt,{onInputChange:t,website:f,errors:O}),r.a.createElement(vt,{onInputChange:t,correspondence:E,errors:O}),r.a.createElement(_t,{handleCheckboxIsPayBtnClick:a,status:v,is_staff:N,is_payed:_}),r.a.createElement(gt,{handleCheckboxIsCorpBtnClick:n,is_corporate:b}),r.a.createElement(wt,{onChangeValue:o,onToggle:l,status:v,dropdownOpen:g}),r.a.createElement(Ft,{handleChangeDate:s,handleResetCallClick:c,handleAddCallClick:i,add_call:k,last_call:y}),r.a.createElement(Mt,{onSelectDrop:u,documents:C,detail:w}))},Ht=(a(352),function(e){var t=e.onEdit,a=(e.handleCheckboxIsCorpBtnClick,e.text),n=e.phone,o=e.email,l=e.linkedin_profile,s=e.website,c=e.correspondence,i=e.is_corporate,u=e.status,d=e.is_payed,m=e.last_call,p=e.documents;return r.a.createElement("div",{className:"mt-2 table-detail"},r.a.createElement(Se.a,{className:"userprofile-header"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h2",null,"Investor ",r.a.createElement("b",null,a))),r.a.createElement("td",null,r.a.createElement(Ae,null),r.a.createElement(Re,{onEdit:t}))))),r.a.createElement(Se.a,{striped:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Phone"),r.a.createElement("td",null,n)),r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("td",{className:"table-correspondence__data"},o)),r.a.createElement("tr",null,r.a.createElement("th",null,"Linkedin"),r.a.createElement("td",{className:"table-correspondence__data"},r.a.createElement("a",{className:"table-correspondence__url",href:"".concat(l)},l))),r.a.createElement("tr",null,r.a.createElement("th",null,"Website"),r.a.createElement("td",{className:"table-correspondence__data"},r.a.createElement("a",{className:"table-correspondence__url",href:"".concat(s)},s))),r.a.createElement("tr",null,r.a.createElement("th",null,"Correspondence"),r.a.createElement("td",{className:"table-correspondence__data"},c)),r.a.createElement("tr",null,r.a.createElement("th",null,"Investor"),r.a.createElement("td",null,i?"Corporate":"Individual")),r.a.createElement("tr",null,r.a.createElement("th",null,"Status"),r.a.createElement("td",null,u)),r.a.createElement("tr",null,r.a.createElement("th",null,"Payment"),r.a.createElement("td",null,d?"Payed":"New")),r.a.createElement("tr",null,r.a.createElement("th",null,"Calls"),r.a.createElement("td",null,m?Ut()(m).format("D MMM YYYY HH:mm"):"")),r.a.createElement("tr",null,r.a.createElement("th",null,"Documents"),r.a.createElement("td",null,p?r.a.createElement("a",{className:"table-correspondence__url",href:"".concat(p)},p.split("/").slice(-1)[0]):"")))))}),Bt=(a(353),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",phone:"",status:"",email:"",linkedin_profile:"",website:"",correspondence:"",is_corporate:!1,is_payed:!1,id:null,loading:!0,errors:{},hasError:!1,dropdownOpen:!1,detail:{},add_call:!1,last_call:"",documents:null,attached:!1,modal:!1},a.toggle=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a.toggleModal=function(){a.setState(function(e){return{modal:!e.modal}})},a.handleChange=function(e){var t;e.preventDefault();var n=e.target.name,r=e.target.value;a.setState((t={},Object(et.a)(t,n,r),Object(et.a)(t,"errors",{}),t))},a.changeDate=function(e){a.setState({last_call:e})},a.changeValue=function(e){a.setState({status:e.currentTarget.textContent})},a.getData=function(e){a.setState({documents:e[0],attached:!0})},a.onCheckboxIsCorpBtnClick=function(){a.setState({is_corporate:!a.state.is_corporate})},a.onCheckboxIsPayBtnClick=function(){a.setState({is_payed:!a.state.is_payed})},a.onAddCallClick=function(){a.setState({add_call:!0,last_call:Ut()(new Date,Ut.a.defaultFormat).toDate()})},a.onResetCallClick=function(){a.setState({add_call:!1,last_call:""})},a.submitNote=function(e){e.preventDefault();var t=It(a.state);0===Object.keys(t).length?(a.props.updateDetailNote(a.state.id,a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.is_payed,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence,a.state.last_call,a.state.documents,a.state.attached),a.toggleModal()):a.setState({errors:t})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match){var e=this.props.match.params.id;this.setState({id:e}),this.props.fetchDetailNote(e)}}},{key:"componentWillReceiveProps",value:function(e){var t=e.detail;Object.keys(t).length&&this.setState({text:t.text,phone:t.phone,status:t.status,is_corporate:t.is_corporate,is_payed:t.is_payed,email:t.email,linkedin_profile:t.linkedin_profile,website:t.website,correspondence:t.correspondence,last_call:Ut()(t.last_call,Ut.a.defaultFormat).toDate(),documents:t.documents,hasError:t.hasError,loading:t.loading,errors:t.errors})}},{key:"renderModal",value:function(){var e=this.props,t=e.detail,a=e.is_staff,n=this.state,o=n.modal,l=n.text,s=n.phone,c=n.email,i=n.linkedin_profile,u=n.website,d=n.correspondence,m=n.is_corporate,p=n.status,h=n.dropdownOpen,f=n.is_payed,E=n.add_call,b=n.last_call,v=n.documents,g=n.errors;if(this.state.modal)return r.a.createElement(tt.a,{isOpen:o,toggle:this.toggleModal},r.a.createElement(at.a,{onSubmit:this.submitNote},r.a.createElement(nt.a,{toggle:this.toggleModal},"Edit Investor"),r.a.createElement(rt.a,null,r.a.createElement(zt,{onInputChange:this.handleChange,handleCheckboxIsCorpBtnClick:this.onCheckboxIsCorpBtnClick,handleCheckboxIsPayBtnClick:this.onCheckboxIsPayBtnClick,onToggle:this.toggle,onChangeValue:this.changeValue,handleChangeDate:this.changeDate,handleResetCallClick:this.onResetCallClick,handleAddCallClick:this.onAddCallClick,onSelectDrop:this.getData,text:l,phone:s,email:c,linkedin_profile:i,website:u,correspondence:d,is_corporate:m,status:p,is_staff:a,is_payed:f,dropdownOpen:h,add_call:E,last_call:b,documents:v,detail:"".concat(t.documents),errors:g})),r.a.createElement(ot.a,null,r.a.createElement(lt.a,{row:!0},r.a.createElement(De,null),r.a.createElement(de.a,{className:"rounded-0",onClick:this.toggleModal},"Cancel")))))}},{key:"renderNote",value:function(){var e=this.props.detail,t=this.state,a=t.modal,n=t.hasError,o=t.errors;return e.detail||n?r.a.createElement(Me,{errors:o&&o.page}):r.a.createElement(Dt.a,{fluid:!0},r.a.createElement(Pt.a,null,a?this.renderModal():null,r.a.createElement(Ht,Object.assign({},e,{onEdit:this.toggleModal}))))}},{key:"render",value:function(){var e=this.state.loading;return r.a.createElement("div",null,e?r.a.createElement(B,null):this.renderNote())}}]),t}(n.Component)),Wt=Object(s.b)(function(e){return{detail:e.detail}},function(e){return{fetchDetailNote:function(t){e(function(e){return function(t,a){var n={"Content-Type":"application/json"},r=a().auth.token,o="/api/investors/".concat(e,"/");return r&&(n.Authorization="Token ".concat(r)),fetch(o,{headers:n}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Server Error..."),console.log("Server Error!"),e}).then(function(e){if(200===e.status)return t({type:"FETCH_DETAIL_NOTE",detail:e.data});if(401===e.status||403===e.status)throw O.toast.error("Authentication Error..."),t({type:"AUTHENTICATION_ERROR",detail:e.data}),e.data;if(404===e.status)throw O.toast.error("Investor is not found..."),t({type:"INVESTOR_NOT_FOUND",detail:e.data}),e.data}).catch(function(e){console.log("error",e)})}}(t))},updateDetailNote:function(t,a,n,r,o,l,s,c,i,u,d,m,p){e(function(e,t,a,n,r,o,l,s,c,i,u,d,m){return function(p,h){var f={Accept:"application/json"},E=h().auth.token;E&&(f.Authorization="Token ".concat(E));var b=new FormData;return b.append("text",t),b.append("phone",a),b.append("status",n),b.append("is_corporate",r),b.append("is_payed",o),b.append("email",l),b.append("linkedin_profile",s),b.append("website",c),i&&b.append("correspondence",i),m&&!("string"===typeof d||d instanceof String)&&b.append("documents",d),u?"Invalid Date"!==String(u)&&b.append("last_call",u.toISOString()):b.append("last_call",""),fetch("/api/investors/".concat(e,"/"),{headers:f,method:"PUT",body:b}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw O.toast.error("Server error..."),console.log("Server Error!"),e}).then(function(t){if(200===t.status)return O.toast.info("Investor "+t.data.text+" edited"),p({type:"UPDATE_DETAIL_NOTE",detail:t.data,id:e});if(401===t.status||403===t.status)throw O.toast.error("Authentication Error..."),p({type:"AUTHENTICATION_ERROR",data:t.data}),t.data}).catch(function(e){console.log("error",e)})}}(t,a,n,r,o,l,s,c,i,u,d,m,p))}}})(Bt),Vt=a(379),Gt=a(161),$t=a.n(Gt),Yt=function(e){var t=e.onInputChange,a=e.handleCheckboxIsCorpBtnClick,n=e.text,o=e.phone,l=e.email,s=e.linkedin_profile,c=e.website,i=e.correspondence,u=e.is_corporate,d=e.errors;return r.a.createElement("div",null,r.a.createElement(pt,{onInputChange:t,text:n,errors:d}),r.a.createElement(ht,{onInputChange:t,phone:o,errors:d}),r.a.createElement(ft,{onInputChange:t,email:l,errors:d}),r.a.createElement(Et,{onInputChange:t,linkedin_profile:s,errors:d}),r.a.createElement(bt,{onInputChange:t,website:c,errors:d}),r.a.createElement(vt,{onInputChange:t,correspondence:i,errors:d}),r.a.createElement(gt,{handleCheckboxIsCorpBtnClick:a,is_corporate:u}))},Zt=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",phone:"",email:"",status:"Candidate",linkedin_profile:"",website:"",correspondence:"",is_corporate:!1,id:null,doneLoading:!1,errors:{},redirectToNewPage:!1},a.resetForm=function(){a.setState({text:"",phone:"",email:"",errors:{},status:"Candidate",is_corporate:!1,linkedin_profile:"",website:"",correspondence:""})},a.handleChange=function(e){var t;e.preventDefault();var n=e.target.name,r=e.target.value;a.setState((t={},Object(et.a)(t,n,r),Object(et.a)(t,"errors",{}),t))},a.changeValue=function(e){a.setState({status:e.currentTarget.textContent})},a.onCheckboxIsCorpBtnClick=function(){a.setState({is_corporate:!a.state.is_corporate})},a.submitNote=function(e){e.preventDefault();var t=It(a.state);0===Object.keys(t).length?a.props.addDetailNote(a.state.text,a.state.phone,a.state.status,a.state.is_corporate,a.state.email,a.state.linkedin_profile,a.state.website,a.state.correspondence).then(a.setState({redirectToNewPage:!0})).catch(function(e){console.log("error",e)}):a.setState({errors:t})},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.state.redirectToNewPage&&this.setState({id:e.detail.id})}},{key:"render",value:function(){var e=this.state,t=e.text,a=e.phone,n=e.email,o=e.linkedin_profile,l=e.website,s=e.correspondence,c=e.is_corporate,i=e.errors;return this.state.redirectToNewPage&&this.state.id?r.a.createElement(Vt.a,{to:{pathname:"/investors/".concat(this.state.id)}}):r.a.createElement("div",null,r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement("h3",null,"Add New")),r.a.createElement($t.a,{onSubmit:this.submitNote,className:"form col col-sm-4 mt-2 p-2"},r.a.createElement(Yt,{onInputChange:this.handleChange,handleCheckboxIsCorpBtnClick:this.onCheckboxIsCorpBtnClick,text:t,phone:a,email:n,linkedin_profile:o,website:l,correspondence:s,is_corporate:c,errors:i}),r.a.createElement("div",null,r.a.createElement(De,null),r.a.createElement(Pe,{onClear:this.resetForm}),r.a.createElement(Ae,null))))}}]),t}(n.Component),qt=Object(s.b)(function(e){return{detail:e.detail}},function(e){return{addDetailNote:function(t,a,n,r,o,l,s,c){return e(function(e,t,a,n,r,o,l,s){return function(c,i){var u={"Content-Type":"application/json"},d=i().auth.token;d&&(u.Authorization="Token ".concat(d));var m=JSON.stringify({text:e,phone:t,status:a,is_corporate:n,email:r,linkedin_profile:o,website:l,correspondence:s});return fetch("/api/investors/",{headers:u,method:"POST",body:m}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(e){if(201===e.status)return O.toast.info("Investor "+e.data.text+" added"),c({type:"ADD_DETAIL_NOTE",detail:e.data});if(401===e.status||403===e.status)throw c({type:"AUTHENTICATION_ERROR",data:e.data}),e.data}).catch(function(e){console.log("error",e)})}}(t,a,n,r,o,l,s,c))}}})(Zt),Jt=(a(356),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,errors:{},lead:{}},a}return Object(P.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.match&&this.props.fetchPaymentsLead()}},{key:"componentDidUpdate",value:function(e){if(this.props.lead!==e.lead&&this.props.lead){var t=function(e){var t=e;return t.forEach(function(e){var t=e.converted+e.processed+e.rejected,a=e.payed,n=0,r=0;for(var o in e.prices){var l=e.prices[o];t>=10&&(t>=o?n+=10*l:Math.ceil(t/10)===o/10&&(n+=(t+10-o)*l)),a&&t>=10&&(a>=o?r+=10*l:Math.ceil(a/10)===o/10&&(r+=(a+10-o)*l))}e.price=n-r}),t}(this.props.lead.leads);this.setState({leads:t})}}},{key:"renderPayments",value:function(){var e=this.props.lead;if(e.leads)return r.a.createElement("div",null,r.a.createElement("h3",null,"Leads View"),r.a.createElement(Se.a,{className:"table text-center",striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"table-num__title table-payments"},"#"),r.a.createElement("th",{className:"table-payments"},"Developer"),r.a.createElement("th",{className:"table-payments"},"Total Leads"),r.a.createElement("th",{className:"table-payments"},"Processed"),r.a.createElement("th",{className:"table-payments"},"Converted"),r.a.createElement("th",{className:"table-payments"},"Rejected"),r.a.createElement("th",{className:"table-payments"},"Next Payment"))),r.a.createElement("tbody",null,e.leads.length>0?e.leads.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row",className:"table-num__text"},t+1),r.a.createElement("td",null,r.a.createElement(M.a,{className:"info-link",to:{pathname:"/profile/".concat(e.id),state:{fromDashboard:!1,prevLink:window.location.pathname}}},e.owner)),r.a.createElement("td",null,e.total),r.a.createElement("td",null,e.processed),r.a.createElement("td",null,e.converted),r.a.createElement("td",null,e.rejected),r.a.createElement("td",null,e.price))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"7"},"Table is empty. Add your investors")))))}},{key:"render",value:function(){var e=this.props.loading;return r.a.createElement("div",null,e?r.a.createElement(B,null):this.renderPayments())}}]),t}(n.Component)),Qt=Object(s.b)(function(e){return{lead:e.lead,loading:e.lead.loading}},function(e){return{fetchPaymentsLead:function(){e(function(e,t){var a={"Content-Type":"application/json"},n=t().auth.token;return n&&(a.Authorization="Token ".concat(n)),fetch("/api/payments/",{headers:a}).then(function(e){if(e.status<500)return e.json().then(function(t){return{status:e.status,data:t}});throw console.log("Server Error!"),e}).then(function(t){if(200===t.status)return e({type:"FETCH_PAYMENTS_LEAD",leads:t.data});if(401===t.status||403===t.status)throw e({type:"AUTHENTICATION_ERROR",data:t.data}),t.data;if(404===t.status)throw e({type:"ERROR_NOT_FOUND",leads:t.data}),t.data})})}}})(Jt),Kt=function(){return r.a.createElement(ne.a,null,r.a.createElement(re.a,{exact:!0,path:"/",component:function(e){return r.a.createElement(se,e)}}),r.a.createElement(re.a,{path:"/reload",component:null,key:"reload"}),r.a.createElement(re.a,{path:"/login",component:function(e){return r.a.createElement(_e,e)}}),r.a.createElement(re.a,{path:"/logout",component:function(e){return r.a.createElement(Ne,e)}}),r.a.createElement(re.a,{path:"/signup",component:function(e){return r.a.createElement(ye,e)}}),r.a.createElement(re.a,{path:"/activation/confirm-email/:key",component:function(e){return r.a.createElement(Oe,e)}}),r.a.createElement(re.a,{path:"/signup_done",component:function(e){return r.a.createElement(Ce,e)}}),r.a.createElement(re.a,{path:"/reset_password",component:function(e){return r.a.createElement(Je,e)}}),r.a.createElement(re.a,{path:"/reset_password_done",component:function(e){return r.a.createElement(Qe,e)}}),r.a.createElement(re.a,{path:"/pass/reset/:uid/:token/",component:function(e){return r.a.createElement(Xe,e)}}),r.a.createElement(re.a,{exact:!0,path:"/profile",component:oe(Fe)}),r.a.createElement(re.a,{path:"/profile/:id",component:oe(He)}),r.a.createElement(re.a,{path:"/profile_edit",component:oe($e)}),r.a.createElement(re.a,{path:"/change_password",component:oe(Ze)}),r.a.createElement(re.a,{exact:!0,path:"/investors",component:oe(At)}),r.a.createElement(re.a,{path:"/investors/add",component:oe(qt)}),r.a.createElement(re.a,{path:"/investors/:id",component:oe(Wt)}),r.a.createElement(re.a,{exact:!0,path:"/payments",component:oe(Qt)}),r.a.createElement(re.a,{component:function(e){return r.a.createElement(Me,e)}}))},Xt=function(e){function t(){return Object(I.a)(this,t),Object(A.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,null),r.a.createElement("div",{className:"container"},r.a.createElement(O.ToastContainer,{hideProgressBar:!0,position:"bottom-right",autoClose:3e3,removeCloseButton:!0})),r.a.createElement("div",{className:"container"},r.a.createElement(Kt,null)))}}]),t}(n.Component),ea=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ta(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}!function(){if("serviceWorker"in navigator){if(new URL("/static/bundles",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/static/bundles","/service-worker.js");ea?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ta(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ta(e)})}}();var aa=localStorage.getItem("token");aa&&v.dispatch(j(aa)),l.a.render(r.a.createElement(s.a,{store:v},r.a.createElement(c.a,null,r.a.createElement(Xt,null))),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.ccfd8fdf.chunk.js.map